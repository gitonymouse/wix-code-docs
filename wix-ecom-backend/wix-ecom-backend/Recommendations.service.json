{
  "name": "Recommendations",
  "memberOf": "wix-ecom-backend",
  "mixes": [],
  "callbacks": [],
  "extra": {},
  "clientId": "wix-ecom-backend-recommendation",
  "docs": {},
  "relatedGuides": [],
  "properties": [],
  "operations": [
    {
      "name": "getRecommendation",
      "params": [
        {
          "name": "options",
          "type": [
            {
              "referenceType": "wix-ecom-backend.Recommendations.GetRecommendationOptions"
            }
          ],
          "doc": "",
          "required": false
        }
      ],
      "requiredFields": [],
      "ret": {
        "type": [
          {
            "complexType": {
              "nativeType": "Promise",
              "typeParams": [
                {
                  "referenceType": "wix-ecom-backend.Recommendations.GetRecommendationResponse"
                }
              ]
            }
          }
        ],
        "doc": null
      },
      "docs": {
        "summary": "Returns a `recommendation` containing a list of items selected by one of the specified recommendation algorithms.",
        "description": [
          "This method calls RecommendationsProvider SPI implementors installed on the given site one by one.\nEach implementor is called at most once with all algorithms that have an `app_id` of that implementor.\nAlgorithms are run in the order they are provided. When an algorithm with enough recommended items is found (configured by `minimum_recommended_items`), we stop calling other implementors related to the next `algorithms` in the array.\n\n>**Note:** If the algorithm type is `RELATED_ITEMS`, the `items` field is required in the request."
        ],
        "examples": [
          {
            "title": "getRecommendation example",
            "body": [
              "import { recommendations } from 'wix-ecom-backend';",
              "  ",
              " async function getRecommendation(options) {",
              "   try {",
              "     const result = await recommendations.getRecommendation(options);",
              "",
              "     return result;",
              "   } catch (error) {",
              "     console.error(error);",
              "     // Handle the error",
              "   }",
              " }",
              "  "
            ]
          }
        ]
      },
      "isVeloEvent": false,
      "customLabels": [
        {
          "id": "maturity-beta"
        }
      ],
      "syntaxName": "getRecommendation"
    },
    {
      "name": "listAvailableAlgorithms",
      "params": [],
      "requiredFields": [],
      "ret": {
        "type": [
          {
            "complexType": {
              "nativeType": "Promise",
              "typeParams": [
                {
                  "referenceType": "wix-ecom-backend.Recommendations.ListAvailableAlgorithmsResponse"
                }
              ]
            }
          }
        ],
        "doc": null
      },
      "docs": {
        "summary": "Returns a list of recommendation algorithms that can be used on this site.",
        "description": [],
        "examples": [
          {
            "title": "listAvailableAlgorithms example",
            "body": [
              "import { recommendations } from 'wix-ecom-backend';",
              "  ",
              " async function listAvailableAlgorithms() {",
              "   try {",
              "     const result = await recommendations.listAvailableAlgorithms();",
              "",
              "     return result;",
              "   } catch (error) {",
              "     console.error(error);",
              "     // Handle the error",
              "   }",
              " }",
              "  "
            ]
          }
        ]
      },
      "isVeloEvent": false,
      "customLabels": [
        {
          "id": "maturity-beta"
        }
      ],
      "syntaxName": "listAvailableAlgorithms"
    }
  ],
  "messages": [
    {
      "name": "Algorithm",
      "members": [
        {
          "name": "_id",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Algorithm ID defined by the provider."
        },
        {
          "name": "appId",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "App ID as defined in the Dev Center for the algorithm provider."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "AlgorithmConfig",
      "members": [
        {
          "name": "_id",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Algorithm id sent in requests. Unique per recommendations provider."
        },
        {
          "name": "additionalInfo",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "This field can be used when `description ` field is not enough to describe algorithm and you want to have separate section with additional info. It can be used to not overload user with too much information on main page. Depending on frontend implementation it can be displayed as tooltip or as additional section which is collapsed by default."
        },
        {
          "name": "algorithmType",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "`RELATED_ITEMS` - algorithm provides recommendations based on some other items interested for user/user of user. For example once one item added to cart algorithm can suggest other items frequently bought together with given one.\n`GLOBAL` - algorithm provides generic recommendations for given site. For example, best sellers items or new arrivals"
        },
        {
          "name": "description",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Description of algorithm in list of algorithms available for site. This value is not translatable. Describes how algorithm works, if it has any limitations regarding site content, number of items, site traffic and so on."
        },
        {
          "name": "name",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Name of algorithm in list of algorithms available for site. For example \"Best sellers\", \"Frequently watched together\". This value is not translatable."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "AlgorithmInfo",
      "members": [
        {
          "name": "appId",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "The App ID as defined in the Dev Center for the algorithm provider."
        },
        {
          "name": "catalogAppIds",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "nativeType": "string"
                  }
                ]
              }
            }
          ],
          "doc": "App IDs of catalogs for which the algorithm can be applied."
        },
        {
          "name": "config",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-ecom-backend.Recommendations.AlgorithmConfig"
            }
          ],
          "doc": "The algorithm's identification and configuration details."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "CatalogReference",
      "members": [
        {
          "name": "appId",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "ID of the catalog app. For items from Wix apps, the following values always apply:\n+ Wix Stores: `\"215238eb-22a5-4c36-9e7b-e7c08025e04e\"`\n+ Wix Bookings: `\"13d21c63-b5ec-5912-8397-c3a5ddb27a97\"`"
        },
        {
          "name": "catalogItemId",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "ID of the item within its Wix or 3rd-party catalog. For example, `productId` for Wix Stores or `bookingId` for Wix Bookings."
        },
        {
          "name": "options",
          "optional": true,
          "type": [
            {
              "nativeType": "Object"
            }
          ],
          "doc": "Additional info in key:value form. For example, to specify Wix Stores product options or variants:\n+ `{\"options\": {\"options\": {\"Size\": \"M\", \"Color\": \"Red\"}}}`\n+ `{\"options\": {\"variantId\": \"<VARIANT_ID>\"}}`"
        }
      ],
      "docs": {
        "description": [
          "Used for grouping line items and is sent on add to cart"
        ]
      }
    },
    {
      "name": "GetRecommendationOptions",
      "members": [
        {
          "name": "algorithms",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "referenceType": "wix-ecom-backend.Recommendations.Algorithm"
                  }
                ]
              }
            }
          ],
          "doc": "The list of algorithms used to find recommended items, sorted by priority.\n\nItems found by the first algorithm will be returned in the response only if the number of items is greater than `minimum_recommended_items`.\nOtherwise, the number of items returned by the second algorithm will be checked, and so on, until one of the algorithms returns the required number of items.\nIf the last algorithm does not return enough items, nothing will be returned in the response.\n"
        },
        {
          "name": "items",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "referenceType": "wix-ecom-backend.Recommendations.CatalogReference"
                  }
                ]
              }
            }
          ],
          "doc": "Items for which related items will be found."
        },
        {
          "name": "minimumRecommendedItems",
          "optional": true,
          "type": [
            {
              "nativeType": "number"
            }
          ],
          "doc": "How many items should be returned by the algorithm. If the number of items returned is less than or equal to this number, the fallback algorithm (next in the list) will be used.\n\nMaximum 100.\n"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "GetRecommendationRequest",
      "members": [
        {
          "name": "algorithms",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "referenceType": "wix-ecom-backend.Recommendations.Algorithm"
                  }
                ]
              }
            }
          ],
          "doc": "The list of algorithms used to find recommended items, sorted by priority.\n\nItems found by the first algorithm will be returned in the response only if the number of items is greater than `minimum_recommended_items`.\nOtherwise, the number of items returned by the second algorithm will be checked, and so on, until one of the algorithms returns the required number of items.\nIf the last algorithm does not return enough items, nothing will be returned in the response.\n"
        },
        {
          "name": "items",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "referenceType": "wix-ecom-backend.Recommendations.CatalogReference"
                  }
                ]
              }
            }
          ],
          "doc": "Items for which related items will be found."
        },
        {
          "name": "minimumRecommendedItems",
          "optional": true,
          "type": [
            {
              "nativeType": "number"
            }
          ],
          "doc": "How many items should be returned by the algorithm. If the number of items returned is less than or equal to this number, the fallback algorithm (next in the list) will be used.\n\nMaximum 100.\n"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "GetRecommendationResponse",
      "members": [
        {
          "name": "recommendation",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-ecom-backend.Recommendations.Recommendation"
            }
          ],
          "doc": "A `recommendation` containing a list of recommended items selected by one of the specified algorithms. The recommendation will be empty if none of the specified algorithms returned enough items for the response according to the request settings."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "ItemAppIdNotSupportedByProvider",
      "members": [
        {
          "name": "algorithms",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "referenceType": "wix-ecom-backend.Recommendations.Algorithm"
                  }
                ]
              }
            }
          ],
          "doc": "Algorithms that don't support the requested items."
        },
        {
          "name": "items",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "referenceType": "wix-ecom-backend.Recommendations.CatalogReference"
                  }
                ]
              }
            }
          ],
          "doc": "Items with an App ID not supported by the provider. Supported App IDs can be found in the provider config in the Dev Center."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "ListAvailableAlgorithmsRequest",
      "members": [],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "ListAvailableAlgorithmsResponse",
      "members": [
        {
          "name": "availableAlgorithms",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "referenceType": "wix-ecom-backend.Recommendations.AlgorithmInfo"
                  }
                ]
              }
            }
          ],
          "doc": "Algorithms available on the current site. This depends on the installed applications. An algorithm will be returned if both the algorithm provider and the supported catalog app are installed on the site."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "Recommendation",
      "members": [
        {
          "name": "algorithm",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-ecom-backend.Recommendations.Algorithm"
            }
          ],
          "doc": "The algorithm that was used to define the recommendation."
        },
        {
          "name": "items",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "referenceType": "wix-ecom-backend.Recommendations.CatalogReference"
                  }
                ]
              }
            }
          ],
          "doc": "Recommended items."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "RecommendationAlgorithmNotSupported",
      "members": [
        {
          "name": "unsupportedAlgorithms",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "referenceType": "wix-ecom-backend.Recommendations.Algorithm"
                  }
                ]
              }
            }
          ],
          "doc": "Algorithms not supported by the provider."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    }
  ]
}
