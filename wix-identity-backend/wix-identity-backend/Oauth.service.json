{
  "name": "Oauth",
  "memberOf": "wix-identity-backend",
  "mixes": [],
  "callbacks": [],
  "extra": {},
  "clientId": "wix-identity-backend-refresh_token",
  "docs": {},
  "relatedGuides": [],
  "properties": [],
  "operations": [
    {
      "name": "authorize",
      "params": [
        {
          "name": "options",
          "type": [
            {
              "referenceType": "wix-identity-backend.Oauth.AuthorizeOptions"
            }
          ],
          "doc": "",
          "required": false
        }
      ],
      "requiredFields": [],
      "ret": {
        "type": [
          {
            "complexType": {
              "nativeType": "Promise",
              "typeParams": [
                {
                  "referenceType": "wix-identity-backend.Oauth.RawHttpResponse"
                }
              ]
            }
          }
        ],
        "doc": null
      },
      "docs": {
        "description": [],
        "examples": [
          {
            "title": "authorize example",
            "body": [
              "",
              "    ",
              "    import { oauth } from 'wix-identity-backend';",
              "  ",
              "    ",
              "    async function authorize(options) {",
              "      try {",
              "        const result = await oauth.authorize(options);",
              "",
              "        return result;",
              "        } catch (error) {",
              "          console.error(error);",
              "          // Handle the error",
              "        }",
              "    }",
              "  "
            ]
          }
        ]
      },
      "isVeloEvent": false,
      "customLabels": [
        {
          "id": "maturity-beta"
        }
      ],
      "syntaxName": "authorize"
    },
    {
      "name": "deviceCode",
      "params": [
        {
          "name": "options",
          "type": [
            {
              "referenceType": "wix-identity-backend.Oauth.DeviceCodeOptions"
            }
          ],
          "doc": "",
          "required": false
        }
      ],
      "requiredFields": [],
      "ret": {
        "type": [
          {
            "complexType": {
              "nativeType": "Promise",
              "typeParams": [
                {
                  "referenceType": "wix-identity-backend.Oauth.DeviceCodeResponse"
                }
              ]
            }
          }
        ],
        "doc": null
      },
      "docs": {
        "summary": "this endpoint serves the Device Authorization Flow as described in https://www.rfc-editor.org/rfc/pdfrfc/rfc8628.txt.pdf",
        "description": [],
        "examples": [
          {
            "title": "deviceCode example",
            "body": [
              "",
              "    ",
              "    import { oauth } from 'wix-identity-backend';",
              "  ",
              "    ",
              "    async function deviceCode(options) {",
              "      try {",
              "        const result = await oauth.deviceCode(options);",
              "",
              "        return result;",
              "        } catch (error) {",
              "          console.error(error);",
              "          // Handle the error",
              "        }",
              "    }",
              "  "
            ]
          }
        ]
      },
      "isVeloEvent": false,
      "customLabels": [
        {
          "id": "maturity-beta"
        }
      ],
      "syntaxName": "deviceCode"
    },
    {
      "name": "deviceVerify",
      "params": [
        {
          "name": "options",
          "type": [
            {
              "referenceType": "wix-identity-backend.Oauth.DeviceVerifyOptions"
            }
          ],
          "doc": "",
          "required": false
        }
      ],
      "requiredFields": [],
      "ret": {
        "type": [
          {
            "complexType": {
              "nativeType": "Promise",
              "typeParams": [
                {
                  "nativeType": "void"
                }
              ]
            }
          }
        ],
        "doc": null
      },
      "docs": {
        "summary": "this endpoint serves the Device Authorization Flow as described in https://www.rfc-editor.org/rfc/pdfrfc/rfc8628.txt.pdf",
        "description": [],
        "examples": [
          {
            "title": "deviceVerify example",
            "body": [
              "",
              "    ",
              "    import { oauth } from 'wix-identity-backend';",
              "  ",
              "    ",
              "    async function deviceVerify(options) {",
              "      try {",
              "        const result = await oauth.deviceVerify(options);",
              "",
              "        return result;",
              "        } catch (error) {",
              "          console.error(error);",
              "          // Handle the error",
              "        }",
              "    }",
              "  "
            ]
          }
        ]
      },
      "isVeloEvent": false,
      "customLabels": [
        {
          "id": "maturity-beta"
        }
      ],
      "syntaxName": "deviceVerify"
    },
    {
      "name": "token",
      "params": [
        {
          "name": "options",
          "type": [
            {
              "referenceType": "wix-identity-backend.Oauth.TokenOptions"
            }
          ],
          "doc": "",
          "required": false
        }
      ],
      "requiredFields": [],
      "ret": {
        "type": [
          {
            "complexType": {
              "nativeType": "Promise",
              "typeParams": [
                {
                  "referenceType": "wix-identity-backend.Oauth.TokenResponse"
                }
              ]
            }
          }
        ],
        "doc": null
      },
      "docs": {
        "description": [],
        "examples": [
          {
            "title": "token example",
            "body": [
              "",
              "    ",
              "    import { oauth } from 'wix-identity-backend';",
              "  ",
              "    ",
              "    async function token(options) {",
              "      try {",
              "        const result = await oauth.token(options);",
              "",
              "        return result;",
              "        } catch (error) {",
              "          console.error(error);",
              "          // Handle the error",
              "        }",
              "    }",
              "  "
            ]
          }
        ]
      },
      "isVeloEvent": false,
      "customLabels": [
        {
          "id": "maturity-beta"
        }
      ],
      "syntaxName": "token"
    }
  ],
  "messages": [
    {
      "name": "AccessToken",
      "members": [
        {
          "name": "token",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "The access token string as issued by the authorization server."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "AuthorizationCode",
      "members": [
        {
          "name": "code",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": ""
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "AuthorizeOptions",
      "members": [
        {
          "name": "clientId",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "The ID of the application that asks for authorization."
        },
        {
          "name": "codeChallenge",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "PKCE hashed code"
        },
        {
          "name": "codeChallengeMethod",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "PKCE hashing method"
        },
        {
          "name": "redirectUri",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Holds a URL. A successful response from this endpoint results in a redirect to this URL."
        },
        {
          "name": "responseMode",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "(Optional) How the result of the authorization request is formatted"
        },
        {
          "name": "responseType",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Tells the authorization server which grant to execute."
        },
        {
          "name": "scope",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-identity-backend.Oauth.Scope"
            }
          ],
          "doc": "A list of scopes that the application requires."
        },
        {
          "name": "sessionToken",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Current client session"
        },
        {
          "name": "state",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "An opaque value, used for security purposes. If this request parameter is set in the request, then it is returned to the application as part of the redirect_uri."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "AuthorizeRequest",
      "members": [
        {
          "name": "clientId",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "The ID of the application that asks for authorization."
        },
        {
          "name": "codeChallenge",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "PKCE hashed code"
        },
        {
          "name": "codeChallengeMethod",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "PKCE hashing method"
        },
        {
          "name": "redirectUri",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Holds a URL. A successful response from this endpoint results in a redirect to this URL."
        },
        {
          "name": "responseMode",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "(Optional) How the result of the authorization request is formatted"
        },
        {
          "name": "responseType",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Tells the authorization server which grant to execute."
        },
        {
          "name": "scope",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-identity-backend.Oauth.Scope"
            }
          ],
          "doc": "A list of scopes that the application requires."
        },
        {
          "name": "sessionToken",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Current client session"
        },
        {
          "name": "state",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "An opaque value, used for security purposes. If this request parameter is set in the request, then it is returned to the application as part of the redirect_uri."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "ClientCredentials",
      "members": [],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "DeviceCode",
      "members": [
        {
          "name": "deviceCode",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": ""
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "DeviceCodeOptions",
      "members": [
        {
          "name": "clientId",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "The ID of the application that asks for authorization."
        },
        {
          "name": "scope",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-identity-backend.Oauth.Scope"
            }
          ],
          "doc": "A list of permissions that the application requires. Empty list means the default list of scopes."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "DeviceCodeRequest",
      "members": [
        {
          "name": "clientId",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "The ID of the application that asks for authorization."
        },
        {
          "name": "scope",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-identity-backend.Oauth.Scope"
            }
          ],
          "doc": "A list of permissions that the application requires. Empty list means the default list of scopes."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "DeviceCodeResponse",
      "members": [
        {
          "name": "deviceCode",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "is the unique code for the device. When the user goes to the verification_uri in their browser-based device, this code will be bound to their session."
        },
        {
          "name": "expiresIn",
          "optional": true,
          "type": [
            {
              "nativeType": "number"
            }
          ],
          "doc": "indicates the lifetime (in seconds) of the device_code and user_code."
        },
        {
          "name": "interval",
          "optional": true,
          "type": [
            {
              "nativeType": "number"
            }
          ],
          "doc": "indicates the interval (in seconds) at which the app should poll the token URL to request a token. clients MUST use 5 as the default"
        },
        {
          "name": "userCode",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "contains the code that should be input at the verification_uri to authorize the device."
        },
        {
          "name": "verificationUri",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "contains the URL the user should visit to authorize the device."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "DeviceVerifyOptions",
      "members": [
        {
          "name": "userCode",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "User code representing a currently authorizing device."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "DeviceVerifyRequest",
      "members": [
        {
          "name": "userCode",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "User code representing a currently authorizing device."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "DeviceVerifyResponse",
      "members": [],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "HeadersEntry",
      "members": [
        {
          "name": "key",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": ""
        },
        {
          "name": "value",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": ""
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "PKCE",
      "members": [
        {
          "name": "authorizationCode",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-identity-backend.Oauth.AuthorizationCode"
            }
          ],
          "doc": ""
        },
        {
          "name": "code",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "PKCE code"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "PreAuthenticated",
      "members": [
        {
          "name": "clientId",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": ""
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "RawHttpResponse",
      "members": [
        {
          "name": "body",
          "optional": true,
          "type": [
            {
              "nativeType": "Uint8Array"
            }
          ],
          "doc": ""
        },
        {
          "name": "headers",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "referenceType": "wix-identity-backend.Oauth.HeadersEntry"
                  }
                ]
              }
            }
          ],
          "doc": ""
        },
        {
          "name": "statusCode",
          "optional": true,
          "type": [
            {
              "nativeType": "number"
            }
          ],
          "doc": ""
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "RefreshToken",
      "members": [
        {
          "name": "token",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": ""
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "Scope",
      "members": [
        {
          "name": "ids",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "nativeType": "string"
                  }
                ]
              }
            }
          ],
          "doc": "A list of permissions that the application requires. Empty list means the default list of scopes."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "TokenOptions",
      "members": [
        {
          "name": "authorizationCode",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-identity-backend.Oauth.AuthorizationCode"
            }
          ],
          "doc": "Authorization code given at the authorize endpoint."
        },
        {
          "name": "clientCredentials",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-identity-backend.Oauth.ClientCredentials"
            }
          ],
          "doc": "Client credentials for authenticating a client"
        },
        {
          "name": "deviceCode",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-identity-backend.Oauth.DeviceCode"
            }
          ],
          "doc": "Device code given at the device code endpoint."
        },
        {
          "name": "pkce",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-identity-backend.Oauth.PKCE"
            }
          ],
          "doc": "Authorization code given at the authorize endpoint with the PKCE extention."
        },
        {
          "name": "preAuthenticated",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-identity-backend.Oauth.PreAuthenticated"
            }
          ],
          "doc": "Granting a pre authenticated token for basic access."
        },
        {
          "name": "refreshToken",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-identity-backend.Oauth.RefreshToken"
            }
          ],
          "doc": "Refresh Token that was issued by this service beforehand."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "TokenRequest",
      "members": [
        {
          "name": "authorizationCode",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-identity-backend.Oauth.AuthorizationCode"
            }
          ],
          "doc": "Authorization code given at the authorize endpoint."
        },
        {
          "name": "clientCredentials",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-identity-backend.Oauth.ClientCredentials"
            }
          ],
          "doc": "Client credentials for authenticating a client"
        },
        {
          "name": "deviceCode",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-identity-backend.Oauth.DeviceCode"
            }
          ],
          "doc": "Device code given at the device code endpoint."
        },
        {
          "name": "pkce",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-identity-backend.Oauth.PKCE"
            }
          ],
          "doc": "Authorization code given at the authorize endpoint with the PKCE extention."
        },
        {
          "name": "preAuthenticated",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-identity-backend.Oauth.PreAuthenticated"
            }
          ],
          "doc": "Granting a pre authenticated token for basic access."
        },
        {
          "name": "refreshToken",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-identity-backend.Oauth.RefreshToken"
            }
          ],
          "doc": "Refresh Token that was issued by this service beforehand."
        }
      ],
      "extra": {
        "oneOfGroups": [
          {
            "name": "oneOfTokenRequestGrantTypeOneOf",
            "members": [
              "authorizationCode",
              "clientCredentials",
              "deviceCode",
              "pkce",
              "preAuthenticated",
              "refreshToken"
            ]
          }
        ]
      },
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "TokenRequestGrantTypeOneOf",
      "members": [
        {
          "name": "authorizationCode",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-identity-backend.Oauth.AuthorizationCode"
            }
          ],
          "doc": "Authorization code given at the authorize endpoint."
        },
        {
          "name": "clientCredentials",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-identity-backend.Oauth.ClientCredentials"
            }
          ],
          "doc": "Client credentials for authenticating a client"
        },
        {
          "name": "deviceCode",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-identity-backend.Oauth.DeviceCode"
            }
          ],
          "doc": "Device code given at the device code endpoint."
        },
        {
          "name": "pkce",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-identity-backend.Oauth.PKCE"
            }
          ],
          "doc": "Authorization code given at the authorize endpoint with the PKCE extention."
        },
        {
          "name": "preAuthenticated",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-identity-backend.Oauth.PreAuthenticated"
            }
          ],
          "doc": "Granting a pre authenticated token for basic access."
        },
        {
          "name": "refreshToken",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-identity-backend.Oauth.RefreshToken"
            }
          ],
          "doc": "Refresh Token that was issued by this service beforehand."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "TokenResponse",
      "members": [
        {
          "name": "accessToken",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-identity-backend.Oauth.AccessToken"
            }
          ],
          "doc": ""
        },
        {
          "name": "refreshToken",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-identity-backend.Oauth.RefreshToken"
            }
          ],
          "doc": ""
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    }
  ]
}
