{
  "name": "Checkout",
  "memberOf": "wix-app-market-backend",
  "mixes": [],
  "callbacks": [],
  "extra": {},
  "clientId": "wix-app-market-backend-purchased_item",
  "docs": {},
  "relatedGuides": [],
  "properties": [],
  "operations": [
    {
      "name": "getMeteredBillingCharges",
      "params": [
        {
          "name": "options",
          "type": [
            {
              "referenceType": "wix-app-market-backend.Checkout.GetMeteredBillingChargesOptions"
            }
          ],
          "doc": "",
          "required": false
        }
      ],
      "requiredFields": [],
      "ret": {
        "type": [
          {
            "complexType": {
              "nativeType": "Promise",
              "typeParams": [
                {
                  "referenceType": "wix-app-market-backend.Checkout.GetMeteredBillingChargesResponse"
                }
              ]
            }
          }
        ],
        "doc": null
      },
      "docs": {
        "summary": "The Metered Billing Charges is an API endpoint that calls an external developer's SPI to retrieve charges based on metered billing.\nThis API serves as a testing tool for external developers to ensure that their SPI is working as expected.",
        "description": [],
        "examples": [
          {
            "title": "getMeteredBillingCharges example",
            "body": [
              "import { checkout } from 'wix-app-market-backend';",
              "  ",
              " async function getMeteredBillingCharges(options) {",
              "   try {",
              "     const result = await checkout.getMeteredBillingCharges(options);",
              "",
              "     return result;",
              "   } catch (error) {",
              "     console.error(error);",
              "     // Handle the error",
              "   }",
              " }",
              "  "
            ]
          }
        ]
      },
      "isVeloEvent": false,
      "customLabels": [
        {
          "id": "maturity-beta"
        }
      ],
      "syntaxName": "getMeteredBillingCharges"
    },
    {
      "name": "getPurchaseHistory",
      "params": [],
      "requiredFields": [],
      "ret": {
        "type": [
          {
            "complexType": {
              "nativeType": "Promise",
              "typeParams": [
                {
                  "referenceType": "wix-app-market-backend.Checkout.GetPurchaseHistoryResponse"
                }
              ]
            }
          }
        ],
        "doc": null
      },
      "docs": {
        "summary": "The Purchase History API provides a list of your user's purchase history for your app (particularly relevant for one-time purchases).\nNote: Cancellations of recurring plans are not included.",
        "description": [],
        "examples": [
          {
            "title": "getPurchaseHistory example",
            "body": [
              "import { checkout } from 'wix-app-market-backend';",
              "  ",
              " async function getPurchaseHistory() {",
              "   try {",
              "     const result = await checkout.getPurchaseHistory();",
              "",
              "     return result;",
              "   } catch (error) {",
              "     console.error(error);",
              "     // Handle the error",
              "   }",
              " }",
              "  "
            ]
          }
        ]
      },
      "isVeloEvent": false,
      "customLabels": [
        {
          "id": "maturity-beta"
        }
      ],
      "syntaxName": "getPurchaseHistory"
    },
    {
      "name": "getSitePaymentMethodsStatus",
      "params": [],
      "requiredFields": [],
      "ret": {
        "type": [
          {
            "complexType": {
              "nativeType": "Promise",
              "typeParams": [
                {
                  "referenceType": "wix-app-market-backend.Checkout.GetSitePaymentMethodsStatusResponse"
                }
              ]
            }
          }
        ],
        "doc": null
      },
      "docs": {
        "summary": "The Site Payments Methods Status API is a simple way to check if a site has a payment method setup and can accept payments.\nIt differentiates between 4 different types of payment methods.",
        "description": [],
        "examples": [
          {
            "title": "getSitePaymentMethodsStatus example",
            "body": [
              "import { checkout } from 'wix-app-market-backend';",
              "  ",
              " async function getSitePaymentMethodsStatus() {",
              "   try {",
              "     const result = await checkout.getSitePaymentMethodsStatus();",
              "",
              "     return result;",
              "   } catch (error) {",
              "     console.error(error);",
              "     // Handle the error",
              "   }",
              " }",
              "  "
            ]
          }
        ]
      },
      "isVeloEvent": false,
      "customLabels": [
        {
          "id": "maturity-beta"
        }
      ],
      "syntaxName": "getSitePaymentMethodsStatus"
    },
    {
      "name": "getUrl",
      "params": [
        {
          "name": "productId",
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Product to bill the user for (details taken from Developers Center).",
          "required": true
        },
        {
          "name": "options",
          "type": [
            {
              "referenceType": "wix-app-market-backend.Checkout.GetUrlOptions"
            }
          ],
          "doc": "",
          "required": false
        }
      ],
      "requiredFields": [
        "productId"
      ],
      "ret": {
        "type": [
          {
            "complexType": {
              "nativeType": "Promise",
              "typeParams": [
                {
                  "referenceType": "wix-app-market-backend.Checkout.GetUrlResponse"
                }
              ]
            }
          }
        ],
        "doc": null
      },
      "docs": {
        "summary": "The Wix Billing API enables your app to lead customers seamlessly into Wix's checkout process from your platform (e.g., hosting your app's pricing page independently and redirecting to Wix checkout for purchase).\nThe returned checkout link is valid for 48 hours.\nNote: Use of this functionality is dependent on [setup in the Wix Developers Center](https://devforum.wix.com/en/article/setting-up-an-external-pricing-page).",
        "description": [],
        "examples": [
          {
            "title": "getUrl example",
            "body": [
              "import { checkout } from 'wix-app-market-backend';",
              "  ",
              " async function getUrl(productId, options) {",
              "   try {",
              "     const result = await checkout.getUrl(productId, options);",
              "",
              "     return result;",
              "   } catch (error) {",
              "     console.error(error);",
              "     // Handle the error",
              "   }",
              " }",
              "  "
            ]
          }
        ]
      },
      "isVeloEvent": false,
      "customLabels": [
        {
          "id": "maturity-beta"
        }
      ],
      "syntaxName": "getUrl"
    }
  ],
  "messages": [
    {
      "name": "Charge",
      "members": [
        {
          "name": "_id",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Unique id with 64 characters"
        },
        {
          "name": "amount",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Amount to charge the user"
        },
        {
          "name": "description",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Description of the charge"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "ChargeOverride",
      "members": [
        {
          "name": "currency",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Currency to use, ISO-4217."
        },
        {
          "name": "price",
          "optional": true,
          "type": [
            {
              "nativeType": "number"
            }
          ],
          "doc": "Price to use with the override. Leave empty to use the app's default pricing plan from the Wix Developers Center."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "GetMeteredBillingChargesOptions",
      "members": [
        {
          "name": "currency",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Currency of the charges"
        },
        {
          "name": "endDate",
          "optional": true,
          "type": [
            {
              "nativeType": "Date"
            }
          ],
          "doc": "End period of the purchase"
        },
        {
          "name": "startDate",
          "optional": true,
          "type": [
            {
              "nativeType": "Date"
            }
          ],
          "doc": "Start period of the purchase"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "GetMeteredBillingChargesRequest",
      "members": [
        {
          "name": "currency",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Currency of the charges"
        },
        {
          "name": "endDate",
          "optional": true,
          "type": [
            {
              "nativeType": "Date"
            }
          ],
          "doc": "End period of the purchase"
        },
        {
          "name": "startDate",
          "optional": true,
          "type": [
            {
              "nativeType": "Date"
            }
          ],
          "doc": "Start period of the purchase"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "GetMeteredBillingChargesResponse",
      "members": [
        {
          "name": "charges",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "referenceType": "wix-app-market-backend.Checkout.Charge"
                  }
                ]
              }
            }
          ],
          "doc": ""
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "GetPurchaseHistoryRequest",
      "members": [],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "GetPurchaseHistoryResponse",
      "members": [
        {
          "name": "purchases",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "referenceType": "wix-app-market-backend.Checkout.PurchasedItem"
                  }
                ]
              }
            }
          ],
          "doc": ""
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "GetSitePaymentMethodsStatusRequest",
      "members": [],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "GetSitePaymentMethodsStatusResponse",
      "members": [
        {
          "name": "offlineProviderEnabled",
          "optional": true,
          "type": [
            {
              "nativeType": "boolean"
            }
          ],
          "doc": "Whether there are any offline payment providers enabled - specifically, whether the site accepts cash payments on premises."
        },
        {
          "name": "onlineProviderEnabled",
          "optional": true,
          "type": [
            {
              "nativeType": "boolean"
            }
          ],
          "doc": "Whether there are any online payment providers enabled. This includes things like Wix Payments, Stripe, PayPal, Credit Card providers and more."
        },
        {
          "name": "thirdPartyPosProviderEnabled",
          "optional": true,
          "type": [
            {
              "nativeType": "boolean"
            }
          ],
          "doc": "Whether there are any third-party point-of-sale providers enabled, allowing customers to make electronic payments in person."
        },
        {
          "name": "wixPosProviderEnabled",
          "optional": true,
          "type": [
            {
              "nativeType": "boolean"
            }
          ],
          "doc": "Whether the Wix point-of-sale provider is enabled, allowing customers to make electronic payments in person."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "GetUrlOptions",
      "members": [
        {
          "name": "billingCycle",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Billing cycle (MONTHLY/YEARLY/ONE_TIME)."
        },
        {
          "name": "countryCode",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "ISO-3166-1 alpha-2. Defaults to \"US\"."
        },
        {
          "name": "couponCode",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Coupon Code if there is a discount for this product"
        },
        {
          "name": "languageCode",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "ISO-639-1. Defaults to \"en\"."
        },
        {
          "name": "successUrl",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "URL to redirect user to after a successful purchase."
        },
        {
          "name": "testCheckout",
          "optional": true,
          "type": [
            {
              "nativeType": "boolean"
            }
          ],
          "doc": "Whether this checkout is for testing purposes only (relevant only for in-app purchases). When true, the price charged will be 0.00."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "GetUrlRequest",
      "members": [
        {
          "name": "billingCycle",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Billing cycle (MONTHLY/YEARLY/ONE_TIME)."
        },
        {
          "name": "countryCode",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "ISO-3166-1 alpha-2. Defaults to \"US\"."
        },
        {
          "name": "couponCode",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Coupon Code if there is a discount for this product"
        },
        {
          "name": "languageCode",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "ISO-639-1. Defaults to \"en\"."
        },
        {
          "name": "productId",
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Product to bill the user for (details taken from Developers Center)."
        },
        {
          "name": "successUrl",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "URL to redirect user to after a successful purchase."
        },
        {
          "name": "testCheckout",
          "optional": true,
          "type": [
            {
              "nativeType": "boolean"
            }
          ],
          "doc": "Whether this checkout is for testing purposes only (relevant only for in-app purchases). When true, the price charged will be 0.00."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "GetUrlResponse",
      "members": [
        {
          "name": "checkoutUrl",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Wix checkout URL based on the parameters in the request."
        },
        {
          "name": "token",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "The token holds all the data about the order you want to create the checkout for.  It is signed, so you could verify that it came from Wix."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "PurchasedItem",
      "members": [
        {
          "name": "billingCycle",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "The billing cycle of the purchased plan."
        },
        {
          "name": "currency",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Payment currency."
        },
        {
          "name": "dateCreated",
          "optional": true,
          "type": [
            {
              "nativeType": "Date"
            }
          ],
          "doc": "Order date."
        },
        {
          "name": "price",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Product price."
        },
        {
          "name": "productId",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Product ID."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    }
  ]
}
