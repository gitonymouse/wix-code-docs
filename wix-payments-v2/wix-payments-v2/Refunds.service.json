{
  "name": "Refunds",
  "memberOf": "wix-payments-v2",
  "mixes": [],
  "callbacks": [],
  "extra": {},
  "clientId": "wix-payments.v2-refund",
  "docs": {},
  "relatedGuides": [],
  "properties": [],
  "operations": [
    {
      "name": "createRefund",
      "params": [
        {
          "name": "refund",
          "type": [
            {
              "referenceType": "wix-payments-v2.Refunds.Refund"
            }
          ],
          "doc": "Refund to be created.",
          "required": true
        },
        {
          "name": "options",
          "type": [
            {
              "referenceType": "wix-payments-v2.Refunds.CreateRefundOptions"
            }
          ],
          "doc": "",
          "required": false
        }
      ],
      "requiredFields": [
        "refund",
        "refund.chargeId"
      ],
      "ret": {
        "type": [
          {
            "complexType": {
              "nativeType": "Promise",
              "typeParams": [
                {
                  "referenceType": "wix-payments-v2.Refunds.Refund"
                }
              ]
            }
          }
        ],
        "doc": "The created refund.\n"
      },
      "docs": {
        "summary": "Creates a refund.\nRefunding process starts immediately after refund entity is created.",
        "description": [
          "If amount and currency are not specified,\nrefund is created for full charge amount.\nIf amount is specified, you also need to specify currency,\nand it should be the same as charge currency.\n\nThe call blocks until refund status transitions from `STARTING`.\nRead more about refund statuses in this\n[article](<https://dev.wix.com/docs/rest/business-management/payments/refunds/introduction#lifecycle-of-a-refund>)."
        ],
        "examples": [
          {
            "title": "createRefund example for dashboard page code",
            "body": [
              "import { refunds } from 'wix-payments.v2';",
              "",
              "async function createRefund(refund, options) {",
              "  try {",
              "    const result = await refunds.createRefund(refund, options);",
              "    return result;",
              "  } catch (error) {",
              "    console.error(error);",
              "    // Handle the error",
              "  }",
              "}",
              ""
            ]
          },
          {
            "title": "createRefund example for exporting from backend code",
            "body": [
              "import { refunds } from 'wix-payments.v2';",
              "import { webMethod, Permissions } from 'wix-web-module';",
              "import { elevate } from 'wix-auth';",
              "",
              "const elevatedCreateRefund = elevate(refunds.createRefund);",
              "",
              "export const createRefund = webMethod(",
              "  Permissions.Anyone,",
              "  async (refund, options) => {",
              "    try {",
              "      const result = await elevatedCreateRefund(refund, options);",
              "      return result;",
              "    } catch (error) {",
              "      console.error(error);",
              "      // Handle the error",
              "    }",
              "  }",
              ");",
              ""
            ]
          }
        ]
      },
      "isVeloEvent": false,
      "customLabels": [
        {
          "id": "maturity-beta"
        }
      ],
      "syntaxName": "createRefund",
      "isAdminMethod": true
    },
    {
      "name": "getRefund",
      "params": [
        {
          "name": "refundId",
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "ID of the refund to retrieve.",
          "required": true
        }
      ],
      "requiredFields": [
        "refundId"
      ],
      "ret": {
        "type": [
          {
            "complexType": {
              "nativeType": "Promise",
              "typeParams": [
                {
                  "referenceType": "wix-payments-v2.Refunds.Refund"
                }
              ]
            }
          }
        ],
        "doc": "The requested refund.\n"
      },
      "docs": {
        "summary": "Retrieves a refund.",
        "description": [],
        "examples": [
          {
            "title": "getRefund example for dashboard page code",
            "body": [
              "import { refunds } from 'wix-payments.v2';",
              "",
              "async function getRefund(refundId) {",
              "  try {",
              "    const result = await refunds.getRefund(refundId);",
              "    return result;",
              "  } catch (error) {",
              "    console.error(error);",
              "    // Handle the error",
              "  }",
              "}",
              ""
            ]
          },
          {
            "title": "getRefund example for exporting from backend code",
            "body": [
              "import { refunds } from 'wix-payments.v2';",
              "import { webMethod, Permissions } from 'wix-web-module';",
              "import { elevate } from 'wix-auth';",
              "",
              "const elevatedGetRefund = elevate(refunds.getRefund);",
              "",
              "export const getRefund = webMethod(",
              "  Permissions.Anyone,",
              "  async (refundId) => {",
              "    try {",
              "      const result = await elevatedGetRefund(refundId);",
              "      return result;",
              "    } catch (error) {",
              "      console.error(error);",
              "      // Handle the error",
              "    }",
              "  }",
              ");",
              ""
            ]
          }
        ]
      },
      "isVeloEvent": false,
      "customLabels": [
        {
          "id": "maturity-beta"
        }
      ],
      "syntaxName": "getRefund",
      "isAdminMethod": true
    },
    {
      "name": "getRefundability",
      "params": [
        {
          "name": "chargeId",
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "ID of the charge for which refundability will be calculated.",
          "required": true
        }
      ],
      "requiredFields": [
        "chargeId"
      ],
      "ret": {
        "type": [
          {
            "complexType": {
              "nativeType": "Promise",
              "typeParams": [
                {
                  "referenceType": "wix-payments-v2.Refunds.GetRefundabilityResponse"
                }
              ]
            }
          }
        ],
        "doc": null
      },
      "docs": {
        "summary": "Calculates refundability for a charge.",
        "description": [
          "Read more about refundability in this\n[article](<https://dev.wix.com/docs/rest/business-management/payments/refunds/introduction#refundability>)."
        ],
        "examples": [
          {
            "title": "getRefundability example for dashboard page code",
            "body": [
              "import { refunds } from 'wix-payments.v2';",
              "",
              "async function getRefundability(chargeId) {",
              "  try {",
              "    const result = await refunds.getRefundability(chargeId);",
              "    return result;",
              "  } catch (error) {",
              "    console.error(error);",
              "    // Handle the error",
              "  }",
              "}",
              ""
            ]
          },
          {
            "title": "getRefundability example for exporting from backend code",
            "body": [
              "import { refunds } from 'wix-payments.v2';",
              "import { webMethod, Permissions } from 'wix-web-module';",
              "import { elevate } from 'wix-auth';",
              "",
              "const elevatedGetRefundability = elevate(refunds.getRefundability);",
              "",
              "export const getRefundability = webMethod(",
              "  Permissions.Anyone,",
              "  async (chargeId) => {",
              "    try {",
              "      const result = await elevatedGetRefundability(chargeId);",
              "      return result;",
              "    } catch (error) {",
              "      console.error(error);",
              "      // Handle the error",
              "    }",
              "  }",
              ");",
              ""
            ]
          }
        ]
      },
      "isVeloEvent": false,
      "customLabels": [
        {
          "id": "maturity-beta"
        }
      ],
      "syntaxName": "getRefundability",
      "isAdminMethod": true
    },
    {
      "name": "queryRefunds",
      "params": [],
      "requiredFields": [],
      "ret": {
        "type": [
          {
            "referenceType": "wix-payments-v2.Refunds.RefundsQueryBuilder"
          }
        ],
        "doc": null
      },
      "docs": {
        "summary": "Retrieves a list of refunds, given the provided [paging, filtering, and sorting][1].",
        "description": [
          "",
          "Up to 1,000 Refunds can be returned per request.",
          "",
          "To learn how to query refunds, see [API Query Language][2].",
          "",
          "[1]: https://dev.wix.com/api/rest/getting-started/sorting-and-paging",
          "[2]: https://dev.wix.com/api/rest/getting-started/api-query-language",
          "",
          "",
          "|PROPERTY\t|SUPPORTED FILTERS & SORTING\t",
          "|:---:|:---:|",
          "|`chargeId`|[`eq()`](wix-payments-v2.Refunds.RefundsQueryBuilder#eq),[`in()`](wix-payments-v2.Refunds.RefundsQueryBuilder#in)|"
        ],
        "examples": [
          {
            "title": "queryRefunds example for dashboard page code",
            "body": [
              "import { refunds } from 'wix-payments.v2';",
              "",
              "async function queryRefunds() {",
              "  const { items } = refunds.queryRefunds().find();",
              "}",
              ""
            ]
          },
          {
            "title": "queryRefunds example for exporting from backend code",
            "body": [
              "import { refunds } from 'wix-payments.v2';",
              "import { webMethod, Permissions } from 'wix-web-module';",
              "import { elevate } from 'wix-auth';",
              "",
              "const elevatedQueryRefunds = elevate(refunds.queryRefunds);",
              "",
              "export const queryRefunds = webMethod(",
              "  Permissions.Anyone,",
              "  async (options) => {",
              "    try {",
              "      const result = await elevatedQueryRefunds(options);",
              "      return result;",
              "    } catch (error) {",
              "      console.error(error);",
              "      // Handle the error",
              "    }",
              "  }",
              ");",
              ""
            ]
          }
        ]
      },
      "isVeloEvent": false,
      "customLabels": [
        {
          "id": "maturity-beta"
        }
      ],
      "syntaxName": "queryRefunds",
      "isAdminMethod": true
    },
    {
      "name": "updateExtendedFields",
      "params": [
        {
          "name": "_id",
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "ID of the entity to update.",
          "required": true
        },
        {
          "name": "namespace",
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Identifier for the app whose extended fields are being updated.",
          "required": true
        },
        {
          "name": "options",
          "type": [
            {
              "referenceType": "wix-payments-v2.Refunds.UpdateExtendedFieldsOptions"
            }
          ],
          "doc": "",
          "required": true
        }
      ],
      "requiredFields": [
        "_id",
        "namespace",
        "options",
        "options.namespaceData"
      ],
      "ret": {
        "type": [
          {
            "complexType": {
              "nativeType": "Promise",
              "typeParams": [
                {
                  "referenceType": "wix-payments-v2.Refunds.UpdateExtendedFieldsResponse"
                }
              ]
            }
          }
        ],
        "doc": null
      },
      "docs": {
        "summary": "Updates extended fields of a refund without incrementing revision.",
        "description": [],
        "examples": [
          {
            "title": "updateExtendedFields example for dashboard page code",
            "body": [
              "import { refunds } from 'wix-payments.v2';",
              "",
              "async function updateExtendedFields(id, namespace, options) {",
              "  try {",
              "    const result = await refunds.updateExtendedFields(id, namespace, options);",
              "    return result;",
              "  } catch (error) {",
              "    console.error(error);",
              "    // Handle the error",
              "  }",
              "}",
              ""
            ]
          },
          {
            "title": "updateExtendedFields example for exporting from backend code",
            "body": [
              "import { refunds } from 'wix-payments.v2';",
              "import { webMethod, Permissions } from 'wix-web-module';",
              "import { elevate } from 'wix-auth';",
              "",
              "const elevatedUpdateExtendedFields = elevate(refunds.updateExtendedFields);",
              "",
              "export const updateExtendedFields = webMethod(",
              "  Permissions.Anyone,",
              "  async (id, namespace, options) => {",
              "    try {",
              "      const result = await elevatedUpdateExtendedFields(id, namespace, options);",
              "      return result;",
              "    } catch (error) {",
              "      console.error(error);",
              "      // Handle the error",
              "    }",
              "  }",
              ");",
              ""
            ]
          }
        ]
      },
      "isVeloEvent": false,
      "customLabels": [
        {
          "id": "maturity-beta"
        }
      ],
      "syntaxName": "updateExtendedFields",
      "isAdminMethod": true
    }
  ],
  "messages": [
    {
      "name": "ActionEvent",
      "members": [
        {
          "name": "bodyAsJson",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": ""
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "CreateRefundOptions",
      "members": [
        {
          "name": "previouslyRefundedAmount",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Optional parameter used to prevent unintended refunds.\nUsed to check previously refunded amount according to the client\nagainst the amount from server perspective.\nIf they don't match, error with code `PREVIOUSLY_REFUNDED_AMOUNT_MISMATCH` is returned.\n\nRead more about preventing unintended refunds in this\n[article](<https://dev.wix.com/docs/rest/business-management/payments/refunds/introduction#preventing-unintended-refunds>).\n"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "CreateRefundRequest",
      "members": [
        {
          "name": "previouslyRefundedAmount",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Optional parameter used to prevent unintended refunds.\nUsed to check previously refunded amount according to the client\nagainst the amount from server perspective.\nIf they don't match, error with code `PREVIOUSLY_REFUNDED_AMOUNT_MISMATCH` is returned.\n\nRead more about preventing unintended refunds in this\n[article](<https://dev.wix.com/docs/rest/business-management/payments/refunds/introduction#preventing-unintended-refunds>).\n"
        },
        {
          "name": "refund",
          "type": [
            {
              "referenceType": "wix-payments-v2.Refunds.Refund"
            }
          ],
          "doc": "Refund to be created."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "CreateRefundResponse",
      "members": [
        {
          "name": "refund",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-payments-v2.Refunds.Refund"
            }
          ],
          "doc": "The created refund."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "CursorPaging",
      "members": [
        {
          "name": "cursor",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Pointer to the next or previous page in the list of results.\n\nYou can get the relevant cursor token\nfrom the `pagingMetadata` object in the previous call's response.\nNot relevant for the first request.\n"
        },
        {
          "name": "limit",
          "optional": true,
          "type": [
            {
              "nativeType": "number"
            }
          ],
          "doc": "Number of items to load."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "CursorPagingMetadata",
      "members": [
        {
          "name": "count",
          "optional": true,
          "type": [
            {
              "nativeType": "number"
            }
          ],
          "doc": "Number of items returned in the response."
        },
        {
          "name": "cursors",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-payments-v2.Refunds.Cursors"
            }
          ],
          "doc": "Offset that was requested."
        },
        {
          "name": "hasNext",
          "optional": true,
          "type": [
            {
              "nativeType": "boolean"
            }
          ],
          "doc": "Indicates if there are more results after the current page.\nIf `true`, another page of results can be retrieved.\nIf `false`, this is the last page."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "CursorQuery",
      "members": [
        {
          "name": "cursorPaging",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-payments-v2.Refunds.CursorPaging"
            }
          ],
          "doc": "Cursor token pointing to a page of results. Not used in the first request. Following requests use the cursor token and not `filter` or `sort`."
        },
        {
          "name": "filter",
          "optional": true,
          "type": [
            {
              "nativeType": "Object"
            }
          ],
          "doc": "Filter object in the following format:\n`\"filter\" : {\n\"fieldName1\": \"value1\",\n\"fieldName2\":{\"$operator\":\"value2\"}\n}`\nExample of operators: `$eq`, `$ne`, `$lt`, `$lte`, `$gt`, `$gte`, `$in`, `$hasSome`, `$hasAll`, `$startsWith`, `$contains`"
        },
        {
          "name": "sort",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "referenceType": "wix-payments-v2.Refunds.Sorting"
                  }
                ]
              }
            }
          ],
          "doc": "Sort object in the following format:\n`[{\"fieldName\":\"sortField1\",\"order\":\"ASC\"},{\"fieldName\":\"sortField2\",\"order\":\"DESC\"}]`"
        }
      ],
      "extra": {
        "oneOfGroups": [
          {
            "name": "oneOfCursorQueryPagingMethodOneOf",
            "members": [
              "cursorPaging"
            ]
          }
        ]
      },
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "CursorQueryPagingMethodOneOf",
      "members": [
        {
          "name": "cursorPaging",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-payments-v2.Refunds.CursorPaging"
            }
          ],
          "doc": "Cursor token pointing to a page of results. Not used in the first request. Following requests use the cursor token and not `filter` or `sort`."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "Cursors",
      "members": [
        {
          "name": "next",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Cursor pointing to next page in the list of results."
        },
        {
          "name": "prev",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Cursor pointing to previous page in the list of results."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "DomainEvent",
      "members": [
        {
          "name": "_id",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Unique event ID.\nAllows clients to ignore duplicate webhooks."
        },
        {
          "name": "actionEvent",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-payments-v2.Refunds.ActionEvent"
            }
          ],
          "doc": ""
        },
        {
          "name": "createdEvent",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-payments-v2.Refunds.EntityCreatedEvent"
            }
          ],
          "doc": ""
        },
        {
          "name": "deletedEvent",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-payments-v2.Refunds.EntityDeletedEvent"
            }
          ],
          "doc": ""
        },
        {
          "name": "entityEventSequence",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "A sequence number defining the order of updates to the underlying entity.\nFor example, given that some entity was updated at 16:00 and than again at 16:01,\nit is guaranteed that the sequence number of the second update is strictly higher than the first.\nAs the consumer, you can use this value to ensure that you handle messages in the correct order.\nTo do so, you will need to persist this number on your end, and compare the sequence number from the\nmessage against the one you have stored. Given that the stored number is higher, you should ignore the message."
        },
        {
          "name": "entityFqdn",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Assumes actions are also always typed to an entity_type\nExample: wix.stores.catalog.product, wix.bookings.session, wix.payments.transaction"
        },
        {
          "name": "entityId",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "ID of the entity associated with the event."
        },
        {
          "name": "eventTime",
          "optional": true,
          "type": [
            {
              "nativeType": "Date"
            }
          ],
          "doc": "Event timestamp."
        },
        {
          "name": "originatedFrom",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "If present, indicates the action that triggered the event."
        },
        {
          "name": "slug",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "This is top level to ease client code dispatching of messages (switch on entity_fqdn+slug)\nThis is although the created/updated/deleted notion is duplication of the oneof types\nExample: created/updated/deleted/started/completed/email_opened"
        },
        {
          "name": "triggeredByAnonymizeRequest",
          "optional": true,
          "type": [
            {
              "nativeType": "boolean"
            }
          ],
          "doc": "Whether the event was triggered as a result of a privacy regulation application\n(for example, GDPR)."
        },
        {
          "name": "updatedEvent",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-payments-v2.Refunds.EntityUpdatedEvent"
            }
          ],
          "doc": ""
        }
      ],
      "extra": {
        "oneOfGroups": [
          {
            "name": "oneOfDomainEventBodyOneOf",
            "members": [
              "actionEvent",
              "createdEvent",
              "deletedEvent",
              "updatedEvent"
            ]
          }
        ]
      },
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "DomainEventBodyOneOf",
      "members": [
        {
          "name": "actionEvent",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-payments-v2.Refunds.ActionEvent"
            }
          ],
          "doc": ""
        },
        {
          "name": "createdEvent",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-payments-v2.Refunds.EntityCreatedEvent"
            }
          ],
          "doc": ""
        },
        {
          "name": "deletedEvent",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-payments-v2.Refunds.EntityDeletedEvent"
            }
          ],
          "doc": ""
        },
        {
          "name": "updatedEvent",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-payments-v2.Refunds.EntityUpdatedEvent"
            }
          ],
          "doc": ""
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "EntityCreatedEvent",
      "members": [
        {
          "name": "entityAsJson",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": ""
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "EntityDeletedEvent",
      "members": [
        {
          "name": "deletedEntityAsJson",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Entity that was deleted"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "EntityUpdatedEvent",
      "members": [
        {
          "name": "currentEntityAsJson",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Since platformized APIs only expose PATCH and not PUT we can't assume that the fields sent from the client are the actual diff.\nThis means that to generate a list of changed fields (as opposed to sent fields) one needs to traverse both objects.\nWe don't want to impose this on all developers and so we leave this traversal to the notification recipients which need it."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "ExtendedFields",
      "members": [
        {
          "name": "namespaces",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Record",
                "typeParams": [
                  {
                    "nativeType": "string"
                  },
                  {
                    "nativeType": "Object"
                  }
                ]
              }
            }
          ],
          "doc": "Extended field data. Each key corresponds to the namespace of the app that created the extended fields.\nThe value of each key is structured according to the schema defined when the extended fields were configured.\n\nYou can only access fields for which you have the appropriate permissions.\n\nLearn more about [extended fields](https://dev.wix.com/docs/rest/articles/getting-started/extended-fields).\n"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "GetRefundRequest",
      "members": [
        {
          "name": "refundId",
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "ID of the refund to retrieve."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "GetRefundResponse",
      "members": [
        {
          "name": "refund",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-payments-v2.Refunds.Refund"
            }
          ],
          "doc": "The requested refund."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "GetRefundabilityRequest",
      "members": [
        {
          "name": "chargeId",
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "ID of the charge for which refundability will be calculated."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "GetRefundabilityResponse",
      "members": [
        {
          "name": "refundability",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-payments-v2.Refunds.Refundability"
            }
          ],
          "doc": "Refundability for the charge."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "IdentificationData",
      "members": [
        {
          "name": "anonymousVisitorId",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "ID of a site visitor that has not logged in to the site."
        },
        {
          "name": "appId",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "ID of an app."
        },
        {
          "name": "identityType",
          "readOnly": true,
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Supported values:\n- `'ANONYMOUS_VISITOR'`\n- `'APP'`\n- `'MEMBER'`\n- `'UNKNOWN'`\n- `'WIX_USER'`"
        },
        {
          "name": "memberId",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "ID of a site visitor that has logged in to the site."
        },
        {
          "name": "wixUserId",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "ID of a Wix user (site owner, contributor, etc.)."
        }
      ],
      "extra": {
        "oneOfGroups": [
          {
            "name": "oneOfIdentificationDataIdOneOf",
            "members": [
              "anonymousVisitorId",
              "appId",
              "memberId",
              "wixUserId"
            ]
          }
        ]
      },
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "IdentificationDataIdOneOf",
      "members": [
        {
          "name": "anonymousVisitorId",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "ID of a site visitor that has not logged in to the site."
        },
        {
          "name": "appId",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "ID of an app."
        },
        {
          "name": "memberId",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "ID of a site visitor that has logged in to the site."
        },
        {
          "name": "wixUserId",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "ID of a Wix user (site owner, contributor, etc.)."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "MessageEnvelope",
      "members": [
        {
          "name": "data",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Stringify payload."
        },
        {
          "name": "eventType",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Event type."
        },
        {
          "name": "identity",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-payments-v2.Refunds.IdentificationData"
            }
          ],
          "doc": "The identification type and identity data."
        },
        {
          "name": "instanceId",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "App instance ID."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "QueryRefundsRequest",
      "members": [
        {
          "name": "query",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-payments-v2.Refunds.CursorQuery"
            }
          ],
          "doc": "WQL expression."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "QueryRefundsResponse",
      "members": [
        {
          "name": "pagingMetadata",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-payments-v2.Refunds.CursorPagingMetadata"
            }
          ],
          "doc": "Paging metadata"
        },
        {
          "name": "refunds",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "referenceType": "wix-payments-v2.Refunds.Refund"
                  }
                ]
              }
            }
          ],
          "doc": "List of refunds."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "Refund",
      "members": [
        {
          "name": "_createdDate",
          "readOnly": true,
          "optional": true,
          "type": [
            {
              "nativeType": "Date"
            }
          ],
          "doc": "Date and time the refund was created."
        },
        {
          "name": "_id",
          "readOnly": true,
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Refund ID."
        },
        {
          "name": "_updatedDate",
          "readOnly": true,
          "optional": true,
          "type": [
            {
              "nativeType": "Date"
            }
          ],
          "doc": "Date and time the refund was last updated."
        },
        {
          "name": "acquirerReferenceNumber",
          "readOnly": true,
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Acquirer Reference Number."
        },
        {
          "name": "amount",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Amount of refund in base units, what's returned to the customer.\nE.g. \"12.95\"."
        },
        {
          "name": "chargeId",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "ID of charge for which the funds are returned by this refund."
        },
        {
          "name": "currency",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Currency of refund, should be the same as currency of charge."
        },
        {
          "name": "extendedFields",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-payments-v2.Refunds.ExtendedFields"
            }
          ],
          "doc": "Data Extensions"
        },
        {
          "name": "full",
          "readOnly": true,
          "optional": true,
          "type": [
            {
              "nativeType": "boolean"
            }
          ],
          "doc": "True when refund returns all funds for a charge."
        },
        {
          "name": "note",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Optional free-text note about this refund."
        },
        {
          "name": "providerRefundId",
          "readOnly": true,
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "ID of the refund on the PSP side."
        },
        {
          "name": "reason",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Reason why this refund was issued."
        },
        {
          "name": "returnedApplicationFee",
          "readOnly": true,
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Application fee returned to merchant from Wix.\nIn base units, e.g. \"12.95\".\nNot present when no application fee was returned."
        },
        {
          "name": "returnedProcessingFee",
          "readOnly": true,
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Processing fee returned to merchant from provider.\nIn base units, e.g. \"12.95\".\nApplicable only to Wix Payments provider.\nNot present when no processing fee was returned."
        },
        {
          "name": "revision",
          "readOnly": true,
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Revision number, which increments by 1 each time the refund is updated.\n\nIgnored when creating a refund."
        },
        {
          "name": "status",
          "readOnly": true,
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Status of the refund.\nRead more about statuses in this [article](<https://dev.wix.com/docs/rest/business-management/payments/refunds/introduction#lifecycle-of-a-refund>)."
        },
        {
          "name": "statusInfo",
          "readOnly": true,
          "optional": true,
          "type": [
            {
              "referenceType": "wix-payments-v2.Refunds.StatusInfo"
            }
          ],
          "doc": "Details about refund status.\nMostly used with statuses `FAILED` and `REVERSED`."
        }
      ],
      "docs": {
        "description": [
          "A refund a record of an attempt of\nreturning funds for a charge from a merchant to a customer to who has made a purchase.\nRead more about refunds in this [article](<https://dev.wix.com/docs/rest/business-management/payments/refunds/introduction>)."
        ]
      }
    },
    {
      "name": "RefundOptions",
      "members": [
        {
          "name": "maxRefundAmount",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Maximum amount allowed to be refunded in base units, e.g. \"12.95\"."
        },
        {
          "name": "minRefundAmount",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Minimum amount allowed to be refunded in base units, e.g. \"0.50\"."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "Refundability",
      "members": [
        {
          "name": "currency",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Currency of the charge."
        },
        {
          "name": "previouslyRefundedAmount",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Sum of amounts of `SUCCEEDED` refunds for this charge in base units, e.g. \"6.47\".\nUsed to prevent unintended refunds, read more in this\n[article](<https://dev.wix.com/docs/rest/business-management/payments/refunds/introduction#preventing-unintended-refunds>)."
        },
        {
          "name": "refundOptions",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-payments-v2.Refunds.RefundOptions"
            }
          ],
          "doc": "When charge is refundable, specifies what amounts are allowed for refund."
        },
        {
          "name": "refundable",
          "optional": true,
          "type": [
            {
              "nativeType": "boolean"
            }
          ],
          "doc": "Whether the caller is allowed to refund the charge."
        },
        {
          "name": "rejection",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-payments-v2.Refunds.Rejection"
            }
          ],
          "doc": "When charge is not refundable, specifies why refund is not allowed."
        }
      ],
      "extra": {
        "oneOfGroups": [
          {
            "name": "oneOfRefundabilityDetailsOneOf",
            "members": [
              "refundOptions",
              "rejection"
            ]
          }
        ]
      },
      "docs": {
        "description": [
          "Internal notes:"
        ]
      }
    },
    {
      "name": "RefundabilityDetailsOneOf",
      "members": [
        {
          "name": "refundOptions",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-payments-v2.Refunds.RefundOptions"
            }
          ],
          "doc": "When charge is refundable, specifies what amounts are allowed for refund."
        },
        {
          "name": "rejection",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-payments-v2.Refunds.Rejection"
            }
          ],
          "doc": "When charge is not refundable, specifies why refund is not allowed."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "Rejection",
      "members": [
        {
          "name": "reason",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Following reasons are possible:\n- `CHARGE_REFUNDED` — charge is already fully refunded.\n- `CHARGE_REFUND_IN_PROGRESS` — another refund was initiated for this charge\nand is waiting for confirmation from the provider.\n- `CHARGE_DISPUTED` — charge was disputed.\n- `CHARGE_REFUND_PERIOD_ENDED` — charge is too old to be refunded.\n- `CHARGE_UNPAID` — charge is unpaid.\n- `PROVIDER_DOWN` — PSP is temporarily down.\n- `PROVIDER_NOT_SUPPORTED` — provider doesn't support refunds at the moment,\ncharge is in the wrong state,\nor we don't have required information for this transaction.\n- `PAYMENT_METHOD_NOT_SUPPORTED` — payment method of a charge doesn't support refunds.\n- `MERCHANT_ACCOUNT_NOT_SUPPORTED` — merchant account doesn't support refunds at the moment.\n- `MERCHANT_BALANCE_INSUFFICIENT` — merchant doesn't have enough balance to issue a refund for this charge.\n- `NOT_AUTHORIZED` — logged in merchant has no permission to refund this charge."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "Sorting",
      "members": [
        {
          "name": "fieldName",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Name of the field to sort by."
        },
        {
          "name": "order",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Sort order."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "StatusInfo",
      "members": [
        {
          "name": "code",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Reason code.\n[Read more about reason codes.](https://dev.wix.com/docs/rest/api-reference/payment-provider-spi/reason-codes)"
        },
        {
          "name": "description",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Free-text description."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "SyncRefundRequest",
      "members": [
        {
          "name": "refund",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-payments-v2.Refunds.Refund"
            }
          ],
          "doc": "Refund received from PSP."
        },
        {
          "name": "returnedApplicationFee",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Application fee returned to merchant from Wix.\nHaving this as a separate field since Refund.returned_application_fee is readOnly."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "SyncRefundResponse",
      "members": [
        {
          "name": "refund",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-payments-v2.Refunds.Refund"
            }
          ],
          "doc": "Created/updated refund."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "UpdateExtendedFieldsOptions",
      "members": [
        {
          "name": "namespaceData",
          "type": [
            {
              "nativeType": "Object"
            }
          ],
          "doc": "Data to update. Structured according to the [schema](https://dev.wix.com/docs/rest/articles/getting-started/extended-fields#json-schema-for-extended-fields) defined when the extended fields were configured."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "UpdateExtendedFieldsRequest",
      "members": [
        {
          "name": "_id",
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "ID of the entity to update."
        },
        {
          "name": "namespace",
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Identifier for the app whose extended fields are being updated."
        },
        {
          "name": "namespaceData",
          "type": [
            {
              "nativeType": "Object"
            }
          ],
          "doc": "Data to update. Structured according to the [schema](https://dev.wix.com/docs/rest/articles/getting-started/extended-fields#json-schema-for-extended-fields) defined when the extended fields were configured."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "UpdateExtendedFieldsResponse",
      "members": [
        {
          "name": "refund",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-payments-v2.Refunds.Refund"
            }
          ],
          "doc": "Updated refund."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    }
  ]
}
