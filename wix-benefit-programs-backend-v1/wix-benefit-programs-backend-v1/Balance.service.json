{
  "name": "Balance",
  "memberOf": "wix-benefit-programs-backend-v1",
  "mixes": [],
  "callbacks": [],
  "extra": {},
  "clientId": "wix-benefit-programs-backend.v1-balance",
  "docs": {},
  "relatedGuides": [],
  "properties": [],
  "operations": [
    {
      "name": "changeBalance",
      "params": [
        {
          "name": "poolId",
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "The id of the pool",
          "required": true
        },
        {
          "name": "idempotencyKey",
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Unique value generated by the client which the service uses to recognize subsequent retries of the same request",
          "required": true
        },
        {
          "name": "options",
          "type": [
            {
              "referenceType": "wix-benefit-programs-backend-v1.Balance.ChangeBalanceOptions"
            }
          ],
          "doc": "",
          "required": false
        }
      ],
      "requiredFields": [
        "idempotencyKey",
        "poolId"
      ],
      "ret": {
        "type": [
          {
            "complexType": {
              "nativeType": "Promise",
              "typeParams": [
                {
                  "referenceType": "wix-benefit-programs-backend-v1.Balance.ChangeBalanceResponse"
                }
              ]
            }
          }
        ],
        "doc": null
      },
      "docs": {
        "summary": "Change balance using one of these operations:\nADJUST\nSET\nSET_INITIAL",
        "description": [],
        "examples": [
          {
            "title": "changeBalance example for dashboard page code",
            "body": [
              "import { balance } from 'wix-benefit-programs-backend.v1';",
              "",
              "async function changeBalance(poolId, idempotencyKey, options) {",
              "  try {",
              "    const result = await balance.changeBalance(poolId, idempotencyKey, options);",
              "    return result;",
              "  } catch (error) {",
              "    console.error(error);",
              "    // Handle the error",
              "  }",
              "}",
              ""
            ]
          },
          {
            "title": "changeBalance example for exporting from backend code",
            "body": [
              "import { balance } from 'wix-benefit-programs-backend.v1';",
              "import { webMethod, Permissions } from 'wix-web-module';",
              "import { elevate } from 'wix-auth';",
              "",
              "const elevatedChangeBalance = elevate(balance.changeBalance);",
              "",
              "export const changeBalance = webMethod(",
              "  Permissions.Anyone,",
              "  async (poolId, idempotencyKey, options) => {",
              "    try {",
              "      const result = await elevatedChangeBalance(poolId, idempotencyKey, options);",
              "      return result;",
              "    } catch (error) {",
              "      console.error(error);",
              "      // Handle the error",
              "    }",
              "  }",
              ");",
              ""
            ]
          }
        ]
      },
      "isVeloEvent": false,
      "customLabels": [
        {
          "id": "maturity-beta"
        }
      ],
      "syntaxName": "changeBalance",
      "isAdminMethod": true
    },
    {
      "name": "getBalance",
      "params": [
        {
          "name": "poolId",
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "The id of the pool",
          "required": true
        }
      ],
      "requiredFields": [
        "poolId"
      ],
      "ret": {
        "type": [
          {
            "complexType": {
              "nativeType": "Promise",
              "typeParams": [
                {
                  "referenceType": "wix-benefit-programs-backend-v1.Balance.Balance"
                }
              ]
            }
          }
        ],
        "doc": "Requested balance\n"
      },
      "docs": {
        "summary": "Get the balance in the pool.",
        "description": [],
        "examples": [
          {
            "title": "getBalance example for dashboard page code",
            "body": [
              "import { balance } from 'wix-benefit-programs-backend.v1';",
              "",
              "async function getBalance(poolId) {",
              "  try {",
              "    const result = await balance.getBalance(poolId);",
              "    return result;",
              "  } catch (error) {",
              "    console.error(error);",
              "    // Handle the error",
              "  }",
              "}",
              ""
            ]
          },
          {
            "title": "getBalance example for exporting from backend code",
            "body": [
              "import { balance } from 'wix-benefit-programs-backend.v1';",
              "import { webMethod, Permissions } from 'wix-web-module';",
              "import { elevate } from 'wix-auth';",
              "",
              "const elevatedGetBalance = elevate(balance.getBalance);",
              "",
              "export const getBalance = webMethod(",
              "  Permissions.Anyone,",
              "  async (poolId) => {",
              "    try {",
              "      const result = await elevatedGetBalance(poolId);",
              "      return result;",
              "    } catch (error) {",
              "      console.error(error);",
              "      // Handle the error",
              "    }",
              "  }",
              ");",
              ""
            ]
          }
        ]
      },
      "isVeloEvent": false,
      "customLabels": [
        {
          "id": "maturity-beta"
        }
      ],
      "syntaxName": "getBalance",
      "isAdminMethod": true
    },
    {
      "name": "getTransactionReversibility",
      "params": [
        {
          "name": "transactionId",
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Id of the transaction to get the reversibility",
          "required": true
        }
      ],
      "requiredFields": [
        "transactionId"
      ],
      "ret": {
        "type": [
          {
            "complexType": {
              "nativeType": "Promise",
              "typeParams": [
                {
                  "referenceType": "wix-benefit-programs-backend-v1.Balance.GetTransactionReversibilityResponse"
                }
              ]
            }
          }
        ],
        "doc": null
      },
      "docs": {
        "summary": "Get a transaction reversibility by transaction id",
        "description": [
          "Should be always internal this is only used to support EcomMembershipSPI"
        ],
        "examples": [
          {
            "title": "getTransactionReversibility example for dashboard page code",
            "body": [
              "import { balance } from 'wix-benefit-programs-backend.v1';",
              "",
              "async function getTransactionReversibility(transactionId) {",
              "  try {",
              "    const result = await balance.getTransactionReversibility(transactionId);",
              "    return result;",
              "  } catch (error) {",
              "    console.error(error);",
              "    // Handle the error",
              "  }",
              "}",
              ""
            ]
          },
          {
            "title": "getTransactionReversibility example for exporting from backend code",
            "body": [
              "import { balance } from 'wix-benefit-programs-backend.v1';",
              "import { webMethod, Permissions } from 'wix-web-module';",
              "import { elevate } from 'wix-auth';",
              "",
              "const elevatedGetTransactionReversibility = elevate(balance.getTransactionReversibility);",
              "",
              "export const getTransactionReversibility = webMethod(",
              "  Permissions.Anyone,",
              "  async (transactionId) => {",
              "    try {",
              "      const result = await elevatedGetTransactionReversibility(transactionId);",
              "      return result;",
              "    } catch (error) {",
              "      console.error(error);",
              "      // Handle the error",
              "    }",
              "  }",
              ");",
              ""
            ]
          }
        ]
      },
      "isVeloEvent": false,
      "customLabels": [
        {
          "id": "maturity-beta"
        }
      ],
      "syntaxName": "getTransactionReversibility",
      "isAdminMethod": true
    },
    {
      "name": "listBalances",
      "params": [
        {
          "name": "options",
          "type": [
            {
              "referenceType": "wix-benefit-programs-backend-v1.Balance.ListBalancesOptions"
            }
          ],
          "doc": "",
          "required": false
        }
      ],
      "requiredFields": [],
      "ret": {
        "type": [
          {
            "complexType": {
              "nativeType": "Promise",
              "typeParams": [
                {
                  "referenceType": "wix-benefit-programs-backend-v1.Balance.ListBalancesResponse"
                }
              ]
            }
          }
        ],
        "doc": null
      },
      "docs": {
        "summary": "Get the balances for provided pools",
        "description": [],
        "examples": [
          {
            "title": "listBalances example for dashboard page code",
            "body": [
              "import { balance } from 'wix-benefit-programs-backend.v1';",
              "",
              "async function listBalances(options) {",
              "  try {",
              "    const result = await balance.listBalances(options);",
              "    return result;",
              "  } catch (error) {",
              "    console.error(error);",
              "    // Handle the error",
              "  }",
              "}",
              ""
            ]
          },
          {
            "title": "listBalances example for exporting from backend code",
            "body": [
              "import { balance } from 'wix-benefit-programs-backend.v1';",
              "import { webMethod, Permissions } from 'wix-web-module';",
              "import { elevate } from 'wix-auth';",
              "",
              "const elevatedListBalances = elevate(balance.listBalances);",
              "",
              "export const listBalances = webMethod(",
              "  Permissions.Anyone,",
              "  async (options) => {",
              "    try {",
              "      const result = await elevatedListBalances(options);",
              "      return result;",
              "    } catch (error) {",
              "      console.error(error);",
              "      // Handle the error",
              "    }",
              "  }",
              ");",
              ""
            ]
          }
        ]
      },
      "isVeloEvent": false,
      "customLabels": [
        {
          "id": "maturity-beta"
        }
      ],
      "syntaxName": "listBalances",
      "isAdminMethod": true
    },
    {
      "name": "queryBalances",
      "params": [],
      "requiredFields": [],
      "ret": {
        "type": [
          {
            "referenceType": "wix-benefit-programs-backend-v1.Balance.BalancesQueryBuilder"
          }
        ],
        "doc": null
      },
      "docs": {
        "summary": "Query the balances for provided pools",
        "description": [],
        "examples": [
          {
            "title": "queryBalances example for dashboard page code",
            "body": [
              "import { balance } from 'wix-benefit-programs-backend.v1';",
              "",
              "async function queryBalances() {",
              "  const { items } = balance.queryBalances().find();",
              "}",
              ""
            ]
          },
          {
            "title": "queryBalances example for exporting from backend code",
            "body": [
              "import { balance } from 'wix-benefit-programs-backend.v1';",
              "import { webMethod, Permissions } from 'wix-web-module';",
              "import { elevate } from 'wix-auth';",
              "",
              "const elevatedQueryBalances = elevate(balance.queryBalances);",
              "",
              "export const queryBalances = webMethod(",
              "  Permissions.Anyone,",
              "  async (options) => {",
              "    try {",
              "      const result = await elevatedQueryBalances(options);",
              "      return result;",
              "    } catch (error) {",
              "      console.error(error);",
              "      // Handle the error",
              "    }",
              "  }",
              ");",
              ""
            ]
          }
        ]
      },
      "isVeloEvent": false,
      "customLabels": [
        {
          "id": "maturity-beta"
        }
      ],
      "syntaxName": "queryBalances",
      "isAdminMethod": true
    },
    {
      "name": "revertBalanceChange",
      "params": [
        {
          "name": "transactionId",
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Reverts the change to the balance made by the provided transaction",
          "required": true
        },
        {
          "name": "idempotencyKey",
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Unique value generated by the client which the service uses to recognize subsequent retries of the same request",
          "required": true
        },
        {
          "name": "options",
          "type": [
            {
              "referenceType": "wix-benefit-programs-backend-v1.Balance.RevertBalanceChangeOptions"
            }
          ],
          "doc": "",
          "required": false
        }
      ],
      "requiredFields": [
        "idempotencyKey",
        "transactionId"
      ],
      "ret": {
        "type": [
          {
            "complexType": {
              "nativeType": "Promise",
              "typeParams": [
                {
                  "referenceType": "wix-benefit-programs-backend-v1.Balance.RevertBalanceChangeResponse"
                }
              ]
            }
          }
        ],
        "doc": null
      },
      "docs": {
        "summary": "Reverts balance change done with ChangeBalance",
        "description": [],
        "examples": [
          {
            "title": "revertBalanceChange example for dashboard page code",
            "body": [
              "import { balance } from 'wix-benefit-programs-backend.v1';",
              "",
              "async function revertBalanceChange(transactionId, idempotencyKey, options) {",
              "  try {",
              "    const result = await balance.revertBalanceChange(transactionId, idempotencyKey, options);",
              "    return result;",
              "  } catch (error) {",
              "    console.error(error);",
              "    // Handle the error",
              "  }",
              "}",
              ""
            ]
          },
          {
            "title": "revertBalanceChange example for exporting from backend code",
            "body": [
              "import { balance } from 'wix-benefit-programs-backend.v1';",
              "import { webMethod, Permissions } from 'wix-web-module';",
              "import { elevate } from 'wix-auth';",
              "",
              "const elevatedRevertBalanceChange = elevate(balance.revertBalanceChange);",
              "",
              "export const revertBalanceChange = webMethod(",
              "  Permissions.Anyone,",
              "  async (transactionId, idempotencyKey, options) => {",
              "    try {",
              "      const result = await elevatedRevertBalanceChange(transactionId, idempotencyKey, options);",
              "      return result;",
              "    } catch (error) {",
              "      console.error(error);",
              "      // Handle the error",
              "    }",
              "  }",
              ");",
              ""
            ]
          }
        ]
      },
      "isVeloEvent": false,
      "customLabels": [
        {
          "id": "maturity-beta"
        }
      ],
      "syntaxName": "revertBalanceChange",
      "isAdminMethod": true
    }
  ],
  "messages": [
    {
      "name": "ActionEvent",
      "members": [
        {
          "name": "bodyAsJson",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": ""
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "AdjustOptions",
      "members": [
        {
          "name": "amount",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Change the available balance by the provided amount. Can be negative and positive values."
        },
        {
          "name": "beneficiary",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-benefit-programs-backend-v1.Balance.IdentificationData"
            }
          ],
          "doc": "Beneficiary of the operation"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "Balance",
      "members": [
        {
          "name": "_createdDate",
          "readOnly": true,
          "optional": true,
          "type": [
            {
              "nativeType": "Date"
            }
          ],
          "doc": "Represents the time the transaction was created"
        },
        {
          "name": "_id",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "The id of the balance. Same as the pool id"
        },
        {
          "name": "_updatedDate",
          "readOnly": true,
          "optional": true,
          "type": [
            {
              "nativeType": "Date"
            }
          ],
          "doc": "Represents the time the transaction was last updated"
        },
        {
          "name": "balance",
          "readOnly": true,
          "optional": true,
          "type": [
            {
              "referenceType": "wix-benefit-programs-backend-v1.Balance.BalanceAmount"
            }
          ],
          "doc": "Balance for the pool"
        },
        {
          "name": "beneficiary",
          "readOnly": true,
          "optional": true,
          "type": [
            {
              "referenceType": "wix-benefit-programs-backend-v1.Balance.IdentificationData"
            }
          ],
          "doc": "The owner of this balance"
        },
        {
          "name": "extendedFields",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-benefit-programs-backend-v1.Balance.ExtendedFields"
            }
          ],
          "doc": "Data extensions"
        },
        {
          "name": "lastTransactionId",
          "readOnly": true,
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Last transaction id, which triggered balance change"
        },
        {
          "name": "pool",
          "readOnly": true,
          "optional": true,
          "type": [
            {
              "referenceType": "wix-benefit-programs-backend-v1.Balance.PoolInfo"
            }
          ],
          "doc": "Pool information"
        },
        {
          "name": "revision",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Represents the current state of an item. Each time the item is modified, its `revision` changes. for an update operation to succeed, you MUST pass the latest revision"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "BalanceAmount",
      "members": [
        {
          "name": "available",
          "readOnly": true,
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Represents the sum of the available credits for the pool"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "ChangeAlreadyReverted",
      "members": [
        {
          "name": "originalTransactionId",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "The id of the transaction which was already reverted"
        },
        {
          "name": "revertedTransactionId",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "The id of the transaction which reverted the original transaction"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "ChangeBalanceOptions",
      "members": [
        {
          "name": "adjustOptions",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-benefit-programs-backend-v1.Balance.AdjustOptions"
            }
          ],
          "doc": "Applies the delta to the current balance. If 0, change won't be performed, but the transaction is still going to be reported"
        },
        {
          "name": "instructingParty",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-benefit-programs-backend-v1.Balance.IdentificationData"
            }
          ],
          "doc": "Party that initiated this change. Could be the site use, the pool owner or the beneficiary"
        },
        {
          "name": "setInitialOptions",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-benefit-programs-backend-v1.Balance.SetInitialOptions"
            }
          ],
          "doc": "Sets the initial balance to any amount. Initializes the pool account. Must be the first operation performed on the account and only called once\nAll subsequent SetInitialOperations will fail."
        },
        {
          "name": "setOptions",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-benefit-programs-backend-v1.Balance.SetOptions"
            }
          ],
          "doc": "Sets the balance to any amount. If the set amount is the same as the current balance no action will be performed"
        },
        {
          "name": "transactionDetails",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-benefit-programs-backend-v1.Balance.TransactionDetails"
            }
          ],
          "doc": "Transaction details related to the change"
        },
        {
          "name": "type",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "The operation to perform on the balance"
        }
      ],
      "extra": {
        "oneOfGroups": [
          {
            "name": "oneOfChangeBalanceRequestOperationOneOf",
            "members": [
              "adjustOptions",
              "setInitialOptions",
              "setOptions"
            ]
          }
        ]
      },
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "ChangeBalanceRequest",
      "members": [
        {
          "name": "adjustOptions",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-benefit-programs-backend-v1.Balance.AdjustOptions"
            }
          ],
          "doc": "Applies the delta to the current balance. If 0, change won't be performed, but the transaction is still going to be reported"
        },
        {
          "name": "idempotencyKey",
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Unique value generated by the client which the service uses to recognize subsequent retries of the same request"
        },
        {
          "name": "instructingParty",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-benefit-programs-backend-v1.Balance.IdentificationData"
            }
          ],
          "doc": "Party that initiated this change. Could be the site use, the pool owner or the beneficiary"
        },
        {
          "name": "poolId",
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "The id of the pool"
        },
        {
          "name": "setInitialOptions",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-benefit-programs-backend-v1.Balance.SetInitialOptions"
            }
          ],
          "doc": "Sets the initial balance to any amount. Initializes the pool account. Must be the first operation performed on the account and only called once\nAll subsequent SetInitialOperations will fail."
        },
        {
          "name": "setOptions",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-benefit-programs-backend-v1.Balance.SetOptions"
            }
          ],
          "doc": "Sets the balance to any amount. If the set amount is the same as the current balance no action will be performed"
        },
        {
          "name": "transactionDetails",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-benefit-programs-backend-v1.Balance.TransactionDetails"
            }
          ],
          "doc": "Transaction details related to the change"
        },
        {
          "name": "type",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "The operation to perform on the balance"
        }
      ],
      "extra": {
        "oneOfGroups": [
          {
            "name": "oneOfChangeBalanceRequestOperationOneOf",
            "members": [
              "adjustOptions",
              "setInitialOptions",
              "setOptions"
            ]
          }
        ]
      },
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "ChangeBalanceRequestOperationOneOf",
      "members": [
        {
          "name": "adjustOptions",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-benefit-programs-backend-v1.Balance.AdjustOptions"
            }
          ],
          "doc": "Applies the delta to the current balance. If 0, change won't be performed, but the transaction is still going to be reported"
        },
        {
          "name": "setInitialOptions",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-benefit-programs-backend-v1.Balance.SetInitialOptions"
            }
          ],
          "doc": "Sets the initial balance to any amount. Initializes the pool account. Must be the first operation performed on the account and only called once\nAll subsequent SetInitialOperations will fail."
        },
        {
          "name": "setOptions",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-benefit-programs-backend-v1.Balance.SetOptions"
            }
          ],
          "doc": "Sets the balance to any amount. If the set amount is the same as the current balance no action will be performed"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "ChangeBalanceResponse",
      "members": [
        {
          "name": "balance",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-benefit-programs-backend-v1.Balance.Balance"
            }
          ],
          "doc": "Changed balance"
        },
        {
          "name": "transactionId",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Id of the resulting transaction from balance change operation"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "CursorPaging",
      "members": [
        {
          "name": "cursor",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Pointer to the next or previous page in the list of results.\n\nYou can get the relevant cursor token\nfrom the `pagingMetadata` object in the previous call's response.\nNot relevant for the first request.\n"
        },
        {
          "name": "limit",
          "optional": true,
          "type": [
            {
              "nativeType": "number"
            }
          ],
          "doc": "Number of items to load."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "CursorPagingMetadata",
      "members": [
        {
          "name": "count",
          "optional": true,
          "type": [
            {
              "nativeType": "number"
            }
          ],
          "doc": "Number of items returned in the response."
        },
        {
          "name": "cursors",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-benefit-programs-backend-v1.Balance.Cursors"
            }
          ],
          "doc": "Offset that was requested."
        },
        {
          "name": "hasNext",
          "optional": true,
          "type": [
            {
              "nativeType": "boolean"
            }
          ],
          "doc": "Indicates if there are more results after the current page.\nIf `true`, another page of results can be retrieved.\nIf `false`, this is the last page."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "CursorQuery",
      "members": [
        {
          "name": "cursorPaging",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-benefit-programs-backend-v1.Balance.CursorPaging"
            }
          ],
          "doc": "Cursor token pointing to a page of results. Not used in the first request. Following requests use the cursor token and not `filter` or `sort`."
        },
        {
          "name": "filter",
          "optional": true,
          "type": [
            {
              "nativeType": "Object"
            }
          ],
          "doc": "Filter object in the following format:\n`\"filter\" : {\n\"fieldName1\": \"value1\",\n\"fieldName2\":{\"$operator\":\"value2\"}\n}`\nExample of operators: `$eq`, `$ne`, `$lt`, `$lte`, `$gt`, `$gte`, `$in`, `$hasSome`, `$hasAll`, `$startsWith`, `$contains`"
        },
        {
          "name": "sort",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "referenceType": "wix-benefit-programs-backend-v1.Balance.Sorting"
                  }
                ]
              }
            }
          ],
          "doc": "Sort object in the following format:\n`[{\"fieldName\":\"sortField1\",\"order\":\"ASC\"},{\"fieldName\":\"sortField2\",\"order\":\"DESC\"}]`"
        }
      ],
      "extra": {
        "oneOfGroups": [
          {
            "name": "oneOfCursorQueryPagingMethodOneOf",
            "members": [
              "cursorPaging"
            ]
          }
        ]
      },
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "CursorQueryPagingMethodOneOf",
      "members": [
        {
          "name": "cursorPaging",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-benefit-programs-backend-v1.Balance.CursorPaging"
            }
          ],
          "doc": "Cursor token pointing to a page of results. Not used in the first request. Following requests use the cursor token and not `filter` or `sort`."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "Cursors",
      "members": [
        {
          "name": "next",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Cursor pointing to next page in the list of results."
        },
        {
          "name": "prev",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Cursor pointing to previous page in the list of results."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "DomainEvent",
      "members": [
        {
          "name": "_id",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Unique event ID.\nAllows clients to ignore duplicate webhooks."
        },
        {
          "name": "actionEvent",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-benefit-programs-backend-v1.Balance.ActionEvent"
            }
          ],
          "doc": ""
        },
        {
          "name": "createdEvent",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-benefit-programs-backend-v1.Balance.EntityCreatedEvent"
            }
          ],
          "doc": ""
        },
        {
          "name": "deletedEvent",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-benefit-programs-backend-v1.Balance.EntityDeletedEvent"
            }
          ],
          "doc": ""
        },
        {
          "name": "entityEventSequence",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "A sequence number defining the order of updates to the underlying entity.\nFor example, given that some entity was updated at 16:00 and than again at 16:01,\nit is guaranteed that the sequence number of the second update is strictly higher than the first.\nAs the consumer, you can use this value to ensure that you handle messages in the correct order.\nTo do so, you will need to persist this number on your end, and compare the sequence number from the\nmessage against the one you have stored. Given that the stored number is higher, you should ignore the message."
        },
        {
          "name": "entityFqdn",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Assumes actions are also always typed to an entity_type\nExample: wix.stores.catalog.product, wix.bookings.session, wix.payments.transaction"
        },
        {
          "name": "entityId",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "ID of the entity associated with the event."
        },
        {
          "name": "eventTime",
          "optional": true,
          "type": [
            {
              "nativeType": "Date"
            }
          ],
          "doc": "Event timestamp."
        },
        {
          "name": "originatedFrom",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "If present, indicates the action that triggered the event."
        },
        {
          "name": "slug",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "This is top level to ease client code dispatching of messages (switch on entity_fqdn+slug)\nThis is although the created/updated/deleted notion is duplication of the oneof types\nExample: created/updated/deleted/started/completed/email_opened"
        },
        {
          "name": "triggeredByAnonymizeRequest",
          "optional": true,
          "type": [
            {
              "nativeType": "boolean"
            }
          ],
          "doc": "Whether the event was triggered as a result of a privacy regulation application\n(for example, GDPR)."
        },
        {
          "name": "updatedEvent",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-benefit-programs-backend-v1.Balance.EntityUpdatedEvent"
            }
          ],
          "doc": ""
        }
      ],
      "extra": {
        "oneOfGroups": [
          {
            "name": "oneOfDomainEventBodyOneOf",
            "members": [
              "actionEvent",
              "createdEvent",
              "deletedEvent",
              "updatedEvent"
            ]
          }
        ]
      },
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "DomainEventBodyOneOf",
      "members": [
        {
          "name": "actionEvent",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-benefit-programs-backend-v1.Balance.ActionEvent"
            }
          ],
          "doc": ""
        },
        {
          "name": "createdEvent",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-benefit-programs-backend-v1.Balance.EntityCreatedEvent"
            }
          ],
          "doc": ""
        },
        {
          "name": "deletedEvent",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-benefit-programs-backend-v1.Balance.EntityDeletedEvent"
            }
          ],
          "doc": ""
        },
        {
          "name": "updatedEvent",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-benefit-programs-backend-v1.Balance.EntityUpdatedEvent"
            }
          ],
          "doc": ""
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "EntityCreatedEvent",
      "members": [
        {
          "name": "entityAsJson",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": ""
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "EntityDeletedEvent",
      "members": [
        {
          "name": "deletedEntityAsJson",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Entity that was deleted"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "EntityUpdatedEvent",
      "members": [
        {
          "name": "currentEntityAsJson",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Since platformized APIs only expose PATCH and not PUT we can't assume that the fields sent from the client are the actual diff.\nThis means that to generate a list of changed fields (as opposed to sent fields) one needs to traverse both objects.\nWe don't want to impose this on all developers and so we leave this traversal to the notification recipients which need it."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "ExtendedFields",
      "members": [
        {
          "name": "namespaces",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Record",
                "typeParams": [
                  {
                    "nativeType": "string"
                  },
                  {
                    "nativeType": "Object"
                  }
                ]
              }
            }
          ],
          "doc": "Extended field data. Each key corresponds to the namespace of the app that created the extended fields.\nThe value of each key is structured according to the schema defined when the extended fields were configured.\n\nYou can only access fields for which you have the appropriate permissions.\n\nLearn more about [extended fields](https://dev.wix.com/docs/rest/articles/getting-started/extended-fields).\n"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "GetBalanceRequest",
      "members": [
        {
          "name": "poolId",
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "The id of the pool"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "GetBalanceResponse",
      "members": [
        {
          "name": "balance",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-benefit-programs-backend-v1.Balance.Balance"
            }
          ],
          "doc": "Requested balance"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "GetTransactionReversibilityRequest",
      "members": [
        {
          "name": "transactionId",
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Id of the transaction to get the reversibility"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "GetTransactionReversibilityResponse",
      "members": [
        {
          "name": "transactionReversibility",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "The result of transaction reversibility validation"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "IdentificationData",
      "members": [
        {
          "name": "anonymousVisitorId",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "ID of a site visitor that has not logged in to the site."
        },
        {
          "name": "appId",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "ID of an app."
        },
        {
          "name": "memberId",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "ID of a site visitor that has logged in to the site."
        },
        {
          "name": "wixUserId",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "ID of a Wix user (site owner, contributor, etc.)."
        }
      ],
      "extra": {
        "oneOfGroups": [
          {
            "name": "oneOfIdentificationDataIdOneOf",
            "members": [
              "anonymousVisitorId",
              "appId",
              "memberId",
              "wixUserId"
            ]
          }
        ]
      },
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "IdentificationDataIdOneOf",
      "members": [
        {
          "name": "anonymousVisitorId",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "ID of a site visitor that has not logged in to the site."
        },
        {
          "name": "appId",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "ID of an app."
        },
        {
          "name": "memberId",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "ID of a site visitor that has logged in to the site."
        },
        {
          "name": "wixUserId",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "ID of a Wix user (site owner, contributor, etc.)."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "Item",
      "members": [
        {
          "name": "_id",
          "readOnly": true,
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "The item id"
        },
        {
          "name": "category",
          "readOnly": true,
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Item category. Discriminates between different types of items. E.g. posts, groups etc."
        },
        {
          "name": "displayName",
          "readOnly": true,
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Display name of the item"
        },
        {
          "name": "externalId",
          "readOnly": true,
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "External item identifier"
        },
        {
          "name": "itemSetId",
          "readOnly": true,
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Key of the set that this item is part of"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "ListBalancesOptions",
      "members": [
        {
          "name": "cursorPaging",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-benefit-programs-backend-v1.Balance.CursorPaging"
            }
          ],
          "doc": "Cursor paging"
        },
        {
          "name": "poolIds",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "nativeType": "string"
                  }
                ]
              }
            }
          ],
          "doc": "The ids of the pools"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "ListBalancesRequest",
      "members": [
        {
          "name": "cursorPaging",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-benefit-programs-backend-v1.Balance.CursorPaging"
            }
          ],
          "doc": "Cursor paging"
        },
        {
          "name": "poolIds",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "nativeType": "string"
                  }
                ]
              }
            }
          ],
          "doc": "The ids of the pools"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "ListBalancesResponse",
      "members": [
        {
          "name": "balances",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "referenceType": "wix-benefit-programs-backend-v1.Balance.Balance"
                  }
                ]
              }
            }
          ],
          "doc": "Requested balances"
        },
        {
          "name": "metadata",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-benefit-programs-backend-v1.Balance.CursorPagingMetadata"
            }
          ],
          "doc": "Paging information"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "MessageEnvelope",
      "members": [
        {
          "name": "data",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Stringify payload."
        },
        {
          "name": "eventType",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Event type."
        },
        {
          "name": "identity",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-benefit-programs-backend-v1.Balance.WebhooksIdentificationData"
            }
          ],
          "doc": "The identification type and identity data."
        },
        {
          "name": "instanceId",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "App instance ID."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "NotEnoughBalance",
      "members": [
        {
          "name": "balance",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-benefit-programs-backend-v1.Balance.BalanceAmount"
            }
          ],
          "doc": "Current balance"
        },
        {
          "name": "requested",
          "readOnly": true,
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "The requested amount"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "PoolInfo",
      "members": [
        {
          "name": "_id",
          "readOnly": true,
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "The pool from which the balance was changed"
        },
        {
          "name": "creditAmount",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "The total amount of credits available for this pool"
        },
        {
          "name": "namespace",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "The namespace of the pool"
        },
        {
          "name": "poolDefinitionId",
          "readOnly": true,
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "PoolDefinition that this pool was created from"
        },
        {
          "name": "programDefinitionId",
          "readOnly": true,
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Program definition from which this entitlement was provisioned from"
        },
        {
          "name": "programId",
          "readOnly": true,
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Package that this entitlement belongs to"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "QueryBalancesRequest",
      "members": [
        {
          "name": "query",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-benefit-programs-backend-v1.Balance.CursorQuery"
            }
          ],
          "doc": "WQL expression"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "QueryBalancesResponse",
      "members": [
        {
          "name": "balances",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "referenceType": "wix-benefit-programs-backend-v1.Balance.Balance"
                  }
                ]
              }
            }
          ],
          "doc": "The retrieved balances"
        },
        {
          "name": "metadata",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-benefit-programs-backend-v1.Balance.CursorPagingMetadata"
            }
          ],
          "doc": "Paging information"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "RevertBalanceChangeOptions",
      "members": [
        {
          "name": "instructingParty",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-benefit-programs-backend-v1.Balance.IdentificationData"
            }
          ],
          "doc": "Party that initiated this change. Could be the site use, the pool owner or the beneficiary"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "RevertBalanceChangeRequest",
      "members": [
        {
          "name": "idempotencyKey",
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Unique value generated by the client which the service uses to recognize subsequent retries of the same request"
        },
        {
          "name": "instructingParty",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-benefit-programs-backend-v1.Balance.IdentificationData"
            }
          ],
          "doc": "Party that initiated this change. Could be the site use, the pool owner or the beneficiary"
        },
        {
          "name": "transactionId",
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Reverts the change to the balance made by the provided transaction"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "RevertBalanceChangeResponse",
      "members": [
        {
          "name": "transactionId",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Id of the created reverse transaction"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "SetInitialOptions",
      "members": [
        {
          "name": "amount",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Set the available balance to the provided amount."
        },
        {
          "name": "beneficiary",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-benefit-programs-backend-v1.Balance.IdentificationData"
            }
          ],
          "doc": "Beneficiary of the transaction"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "SetOptions",
      "members": [
        {
          "name": "amount",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Set the available balance to the provided amount."
        },
        {
          "name": "beneficiary",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-benefit-programs-backend-v1.Balance.IdentificationData"
            }
          ],
          "doc": "Beneficiary of the transaction"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "Sorting",
      "members": [
        {
          "name": "fieldName",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Name of the field to sort by."
        },
        {
          "name": "order",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Sort order."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "TransactionDetails",
      "members": [
        {
          "name": "effectiveDate",
          "readOnly": true,
          "optional": true,
          "type": [
            {
              "nativeType": "Date"
            }
          ],
          "doc": "Represents the time the business performed the transaction"
        },
        {
          "name": "item",
          "readOnly": true,
          "optional": true,
          "type": [
            {
              "referenceType": "wix-benefit-programs-backend-v1.Balance.Item"
            }
          ],
          "doc": "The item for which the balance was changed, if applicable"
        },
        {
          "name": "itemCount",
          "optional": true,
          "type": [
            {
              "nativeType": "number"
            }
          ],
          "doc": "Item count, if applicable"
        },
        {
          "name": "reason",
          "readOnly": true,
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Free format string"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "WebhooksIdentificationData",
      "members": [
        {
          "name": "anonymousVisitorId",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "ID of a site visitor that has not logged in to the site."
        },
        {
          "name": "appId",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "ID of an app."
        },
        {
          "name": "identityType",
          "readOnly": true,
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Supported values:\n- `'ANONYMOUS_VISITOR'`\n- `'APP'`\n- `'MEMBER'`\n- `'UNKNOWN'`\n- `'WIX_USER'`"
        },
        {
          "name": "memberId",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "ID of a site visitor that has logged in to the site."
        },
        {
          "name": "wixUserId",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "ID of a Wix user (site owner, contributor, etc.)."
        }
      ],
      "extra": {
        "oneOfGroups": [
          {
            "name": "oneOfWebhooksIdentificationDataIdOneOf",
            "members": [
              "anonymousVisitorId",
              "appId",
              "memberId",
              "wixUserId"
            ]
          }
        ]
      },
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "WebhooksIdentificationDataIdOneOf",
      "members": [
        {
          "name": "anonymousVisitorId",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "ID of a site visitor that has not logged in to the site."
        },
        {
          "name": "appId",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "ID of an app."
        },
        {
          "name": "memberId",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "ID of a site visitor that has logged in to the site."
        },
        {
          "name": "wixUserId",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "ID of a Wix user (site owner, contributor, etc.)."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    }
  ]
}
