{
  "name": "Schemas",
  "memberOf": "wix-custom-fields-schema-v2",
  "mixes": [],
  "callbacks": [],
  "extra": {},
  "clientId": "wix-custom-fields-schema.v2-data_extension_schema",
  "docs": {},
  "relatedGuides": [],
  "properties": [],
  "operations": [
    {
      "name": "createDataExtensionSchema",
      "params": [
        {
          "name": "dataExtensionSchema",
          "type": [
            {
              "referenceType": "wix-custom-fields-schema-v2.Schemas.DataExtensionSchema"
            }
          ],
          "doc": "the schema to create",
          "required": true
        }
      ],
      "requiredFields": [
        "dataExtensionSchema",
        "dataExtensionSchema.fqdn",
        "dataExtensionSchema.jsonSchema",
        "dataExtensionSchema.namespace"
      ],
      "ret": {
        "type": [
          {
            "complexType": {
              "nativeType": "Promise",
              "typeParams": [
                {
                  "referenceType": "wix-custom-fields-schema-v2.Schemas.DataExtensionSchema"
                }
              ]
            }
          }
        ],
        "doc": "the created schema\n"
      },
      "docs": {
        "summary": "Creates a new data extension schema",
        "description": [
          "This function is not a universal function and runs only on the backend."
        ],
        "examples": [
          {
            "title": "createDataExtensionSchema example",
            "body": [
              "import { schemas } from 'wix-custom-fields-schema.v2';",
              "  ",
              " async function createDataExtensionSchema(dataExtensionSchema) {",
              "   try {",
              "     const result = await schemas.createDataExtensionSchema(dataExtensionSchema);",
              "",
              "     return result;",
              "   } catch (error) {",
              "     console.error(error);",
              "     // Handle the error",
              "   }",
              " }",
              "  "
            ]
          }
        ]
      },
      "isVeloEvent": false,
      "customLabels": [
        {
          "id": "maturity-beta"
        }
      ],
      "syntaxName": "createDataExtensionSchema",
      "isAdminMethod": true
    },
    {
      "name": "deleteByWhiteListedMetaSite",
      "params": [
        {
          "name": "metaSiteId",
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "",
          "required": true
        }
      ],
      "requiredFields": [
        "metaSiteId"
      ],
      "ret": {
        "type": [
          {
            "complexType": {
              "nativeType": "Promise",
              "typeParams": [
                {
                  "referenceType": "wix-custom-fields-schema-v2.Schemas.DeleteByWhiteListedMetaSiteResponse"
                }
              ]
            }
          }
        ],
        "doc": null
      },
      "docs": {
        "summary": "This function is not a universal function and runs only on the backend.",
        "description": [],
        "examples": [
          {
            "title": "deleteByWhiteListedMetaSite example",
            "body": [
              "import { schemas } from 'wix-custom-fields-schema.v2';",
              "  ",
              " async function deleteByWhiteListedMetaSite(metaSiteId) {",
              "   try {",
              "     const result = await schemas.deleteByWhiteListedMetaSite(metaSiteId);",
              "",
              "     return result;",
              "   } catch (error) {",
              "     console.error(error);",
              "     // Handle the error",
              "   }",
              " }",
              "  "
            ]
          }
        ]
      },
      "isVeloEvent": false,
      "customLabels": [
        {
          "id": "maturity-beta"
        }
      ],
      "syntaxName": "deleteByWhiteListedMetaSite",
      "isAdminMethod": true
    },
    {
      "name": "enrichAndSaveDataExtensionSchema",
      "params": [
        {
          "name": "dataExtensionSchemaId",
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "schema id",
          "required": true
        },
        {
          "name": "options",
          "type": [
            {
              "referenceType": "wix-custom-fields-schema-v2.Schemas.EnrichAndSaveDataExtensionSchemaOptions"
            }
          ],
          "doc": "",
          "required": false
        }
      ],
      "requiredFields": [
        "dataExtensionSchemaId"
      ],
      "ret": {
        "type": [
          {
            "complexType": {
              "nativeType": "Promise",
              "typeParams": [
                {
                  "referenceType": "wix-custom-fields-schema-v2.Schemas.EnrichAndSaveDataExtensionSchemaResponse"
                }
              ]
            }
          }
        ],
        "doc": null
      },
      "docs": {
        "summary": "Enrich and save existing data extension schema (temporary endpoint for data migration)",
        "description": [
          "This function is not a universal function and runs only on the backend."
        ],
        "examples": [
          {
            "title": "enrichAndSaveDataExtensionSchema example",
            "body": [
              "import { schemas } from 'wix-custom-fields-schema.v2';",
              "  ",
              " async function enrichAndSaveDataExtensionSchema(dataExtensionSchemaId, options) {",
              "   try {",
              "     const result = await schemas.enrichAndSaveDataExtensionSchema(dataExtensionSchemaId, options);",
              "",
              "     return result;",
              "   } catch (error) {",
              "     console.error(error);",
              "     // Handle the error",
              "   }",
              " }",
              "  "
            ]
          }
        ]
      },
      "isVeloEvent": false,
      "customLabels": [
        {
          "id": "maturity-beta"
        }
      ],
      "syntaxName": "enrichAndSaveDataExtensionSchema",
      "isAdminMethod": true
    },
    {
      "name": "listDataExtensionSchemas",
      "params": [
        {
          "name": "fqdn",
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "fqdn",
          "required": true
        },
        {
          "name": "options",
          "type": [
            {
              "referenceType": "wix-custom-fields-schema-v2.Schemas.ListDataExtensionSchemasOptions"
            }
          ],
          "doc": "",
          "required": false
        }
      ],
      "requiredFields": [
        "fqdn"
      ],
      "ret": {
        "type": [
          {
            "complexType": {
              "nativeType": "Promise",
              "typeParams": [
                {
                  "referenceType": "wix-custom-fields-schema-v2.Schemas.ListDataExtensionSchemasResponse"
                }
              ]
            }
          }
        ],
        "doc": null
      },
      "docs": {
        "summary": "Lists both global and user defined data extensions schema for the fqdn",
        "description": [],
        "examples": [
          {
            "title": "listDataExtensionSchemas example",
            "body": [
              "import { schemas } from 'wix-custom-fields-schema.v2';",
              "  ",
              " async function listDataExtensionSchemas(fqdn, options) {",
              "   try {",
              "     const result = await schemas.listDataExtensionSchemas(fqdn, options);",
              "",
              "     return result;",
              "   } catch (error) {",
              "     console.error(error);",
              "     // Handle the error",
              "   }",
              " }",
              "  "
            ]
          }
        ]
      },
      "isVeloEvent": false,
      "customLabels": [
        {
          "id": "maturity-beta"
        }
      ],
      "syntaxName": "listDataExtensionSchemas"
    },
    {
      "name": "updateDataExtensionSchema",
      "params": [
        {
          "name": "options",
          "type": [
            {
              "referenceType": "wix-custom-fields-schema-v2.Schemas.UpdateDataExtensionSchemaOptions"
            }
          ],
          "doc": "",
          "required": false
        }
      ],
      "requiredFields": [
        "options.dataExtensionSchema._id",
        "options.dataExtensionSchema.jsonSchema",
        "options.dataExtensionSchema.revision"
      ],
      "ret": {
        "type": [
          {
            "complexType": {
              "nativeType": "Promise",
              "typeParams": [
                {
                  "referenceType": "wix-custom-fields-schema-v2.Schemas.UpdateDataExtensionSchemaResponse"
                }
              ]
            }
          }
        ],
        "doc": null
      },
      "docs": {
        "summary": "Updates an existing data extension schema",
        "description": [
          "This function is not a universal function and runs only on the backend."
        ],
        "examples": [
          {
            "title": "updateDataExtensionSchema example",
            "body": [
              "import { schemas } from 'wix-custom-fields-schema.v2';",
              "  ",
              " async function updateDataExtensionSchema(options) {",
              "   try {",
              "     const result = await schemas.updateDataExtensionSchema(options);",
              "",
              "     return result;",
              "   } catch (error) {",
              "     console.error(error);",
              "     // Handle the error",
              "   }",
              " }",
              "  "
            ]
          }
        ]
      },
      "isVeloEvent": false,
      "customLabels": [
        {
          "id": "maturity-beta"
        }
      ],
      "syntaxName": "updateDataExtensionSchema",
      "isAdminMethod": true
    }
  ],
  "messages": [
    {
      "name": "CreateDataExtensionSchemaRequest",
      "members": [
        {
          "name": "dataExtensionSchema",
          "type": [
            {
              "referenceType": "wix-custom-fields-schema-v2.Schemas.DataExtensionSchema"
            }
          ],
          "doc": "the schema to create"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "CreateDataExtensionSchemaResponse",
      "members": [
        {
          "name": "dataExtensionSchema",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-custom-fields-schema-v2.Schemas.DataExtensionSchema"
            }
          ],
          "doc": "the created schema"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "DataExtensionSchema",
      "members": [
        {
          "name": "_createdDate",
          "readOnly": true,
          "optional": true,
          "type": [
            {
              "nativeType": "Date"
            }
          ],
          "doc": "creation date"
        },
        {
          "name": "_id",
          "readOnly": true,
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Unique identifier for a schema"
        },
        {
          "name": "_updatedDate",
          "readOnly": true,
          "optional": true,
          "type": [
            {
              "nativeType": "Date"
            }
          ],
          "doc": "last updated"
        },
        {
          "name": "currentSizeBytes",
          "readOnly": true,
          "optional": true,
          "type": [
            {
              "nativeType": "number"
            }
          ],
          "doc": "Current schema size in bytes"
        },
        {
          "name": "fqdn",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "FQDN of the entity that this schema extends"
        },
        {
          "name": "jsonSchema",
          "optional": true,
          "type": [
            {
              "nativeType": "Object"
            }
          ],
          "doc": "Actual schema definition of this extension is JSON-SCHEMA format with the following vocab extension:\n```\n{\n\"$schema\": \"https://json-schema.org/draft/2020-12/schema\",\n\"$id\": \"https://wixapis.com/v1/json-schema/extensions\",\n\"$vocabulary\": {\n\"https://wixapis.com/v1/json-schema/extensions/vocab/data-extensions\": true\n},\n\"$dynamicAnchor\": \"meta\",\n\"title\": \"Wix' data-extensions vocabulary meta schema\",\n\"type\": [\n\"object\",\n\"boolean\"\n],\n\"properties\": {\n\"x-wix-permissions\": {\n\"type\": \"object\",\n\"description\": \"list of identity types that are allowed reading schema properties\",\n\"properties\": {\n\"read\": {\n\"type\": \"array\",\n\"items\": {\n\"type\": \"string\",\n\"enum\": [\n\"apps\",\n\"owning-app\",\n\"users\",\n\"users-of-users\"\n]\n}\n},\n\"write\": {\n\"type\": \"array\",\n\"items\": {\n\"type\": \"string\",\n\"enum\": [\n\"apps\",\n\"owning-app\",\n\"users\",\n\"users-of-users\"\n]\n}\n}\n}\n},\n\"x-wix-display\": {\n\"type\": \"object\",\n\"description\": \"field display properties\",\n\"schema\": {\n\"properties\": {\n\"placeholder\": {\n\"type\": \"string\",\n\"maxLength\": 255,\n\"description\": \"placeholder text for input fields\"\n},\n\"label\": {\n\"type\": \"string\",\n\"maxLength\": 255,\n\"description\": \"label of the input fields\"\n},\n\"hint\": {\n\"type\": \"string\",\n\"maxLength\": 255,\n\"description\": \"a short explanation that appears next to the input field\"\n}\n}\n}\n}\n}\n}\n```"
        },
        {
          "name": "maxLimitBytes",
          "readOnly": true,
          "optional": true,
          "type": [
            {
              "nativeType": "number"
            }
          ],
          "doc": "Maximum allowed schema size in bytes"
        },
        {
          "name": "namespace",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Namespace of this extension. may be:\n`@company/app1`\nAn app in dev-center that defines this extension for itself.\n`_user_fields`\nA user that defines this extension for self usage."
        },
        {
          "name": "revision",
          "readOnly": true,
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "revision of data record"
        }
      ],
      "docs": {
        "description": [
          "DataExtensionSchema is the main entity of DataExtensionSchemaService"
        ]
      }
    },
    {
      "name": "DeleteByWhiteListedMetaSiteRequest",
      "members": [
        {
          "name": "metaSiteId",
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": ""
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "DeleteByWhiteListedMetaSiteResponse",
      "members": [
        {
          "name": "hasMore",
          "optional": true,
          "type": [
            {
              "nativeType": "boolean"
            }
          ],
          "doc": ""
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "DeleteDemoDataExtensionSchemaRequest",
      "members": [
        {
          "name": "dataExtensionSchemaId",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "schema id"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "DeleteDemoDataExtensionSchemaResponse",
      "members": [],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "EnrichAndSaveDataExtensionSchemaOptions",
      "members": [
        {
          "name": "tenantId",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "tenant id"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "EnrichAndSaveDataExtensionSchemaRequest",
      "members": [
        {
          "name": "dataExtensionSchemaId",
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "schema id"
        },
        {
          "name": "tenantId",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "tenant id"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "EnrichAndSaveDataExtensionSchemaResponse",
      "members": [
        {
          "name": "dataExtensionSchema",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-custom-fields-schema-v2.Schemas.DataExtensionSchema"
            }
          ],
          "doc": "the updated schema"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "ListDataExtensionSchemasOptions",
      "members": [
        {
          "name": "fields",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "nativeType": "string"
                  }
                ]
              }
            }
          ],
          "doc": "Shows additional requested fields"
        },
        {
          "name": "namespaces",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "nativeType": "string"
                  }
                ]
              }
            }
          ],
          "doc": "namespaces"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "ListDataExtensionSchemasRequest",
      "members": [
        {
          "name": "fields",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "nativeType": "string"
                  }
                ]
              }
            }
          ],
          "doc": "Shows additional requested fields"
        },
        {
          "name": "fqdn",
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "fqdn"
        },
        {
          "name": "namespaces",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "nativeType": "string"
                  }
                ]
              }
            }
          ],
          "doc": "namespaces"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "ListDataExtensionSchemasResponse",
      "members": [
        {
          "name": "dataExtensionSchemas",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "referenceType": "wix-custom-fields-schema-v2.Schemas.DataExtensionSchema"
                  }
                ]
              }
            }
          ],
          "doc": "resulted schemas"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "UpdateDataExtensionSchemaOptions",
      "members": [
        {
          "name": "dataExtensionSchema",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-custom-fields-schema-v2.Schemas.DataExtensionSchema"
            }
          ],
          "doc": "the schema to update"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "UpdateDataExtensionSchemaRequest",
      "members": [
        {
          "name": "dataExtensionSchema",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-custom-fields-schema-v2.Schemas.DataExtensionSchema"
            }
          ],
          "doc": "the schema to update"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "UpdateDataExtensionSchemaResponse",
      "members": [
        {
          "name": "dataExtensionSchema",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-custom-fields-schema-v2.Schemas.DataExtensionSchema"
            }
          ],
          "doc": "the updated schema"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "UpsertDataExtensionGlobalSchemaRequest",
      "members": [
        {
          "name": "dataExtensionSchema",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-custom-fields-schema-v2.Schemas.DataExtensionSchema"
            }
          ],
          "doc": "the upsert to create"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "UpsertDataExtensionGlobalSchemaResponse",
      "members": [
        {
          "name": "dataExtensionSchema",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-custom-fields-schema-v2.Schemas.DataExtensionSchema"
            }
          ],
          "doc": "the upsert schema"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    }
  ]
}
