{
  "name": "SiteSearch",
  "memberOf": "wix-search-v3",
  "mixes": [],
  "callbacks": [],
  "extra": {},
  "clientId": "wix-search.v3-sitedocument",
  "docs": {},
  "relatedGuides": [],
  "properties": [],
  "operations": [
    {
      "name": "search",
      "params": [
        {
          "name": "search",
          "type": [
            {
              "referenceType": "wix-search-v3.SiteSearch.Search"
            }
          ],
          "doc": "Search query",
          "required": true
        },
        {
          "name": "options",
          "type": [
            {
              "referenceType": "wix-search-v3.SiteSearch.SearchOptions"
            }
          ],
          "doc": "",
          "required": false
        }
      ],
      "requiredFields": [
        "options.documentType",
        "search"
      ],
      "ret": {
        "type": [
          {
            "complexType": {
              "nativeType": "Promise",
              "typeParams": [
                {
                  "referenceType": "wix-search-v3.SiteSearch.SearchResponse"
                }
              ]
            }
          }
        ],
        "doc": null
      },
      "docs": {
        "summary": "Search for documents",
        "description": [],
        "examples": [
          {
            "title": "search example",
            "body": [
              "import { siteSearch } from 'wix-search.v3';",
              "  ",
              " async function search(search, options) {",
              "   try {",
              "     const result = await siteSearch.search(search, options);",
              "",
              "     return result;",
              "   } catch (error) {",
              "     console.error(error);",
              "     // Handle the error",
              "   }",
              " }",
              "  "
            ]
          }
        ]
      },
      "isVeloEvent": false,
      "customLabels": [
        {
          "id": "maturity-beta"
        }
      ],
      "syntaxName": "search",
      "isAdminMethod": true
    }
  ],
  "messages": [
    {
      "name": "Aggregation",
      "members": [
        {
          "name": "fieldPath",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Field to aggregate by, use dot notation to specify json path"
        },
        {
          "name": "name",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "User-defined name of aggregation, should be unique, will appear in aggregation results"
        },
        {
          "name": "nested",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-search-v3.SiteSearch.NestedAggregation"
            }
          ],
          "doc": "Nested aggregation"
        },
        {
          "name": "scalar",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-search-v3.SiteSearch.ScalarAggregation"
            }
          ],
          "doc": "Scalar aggregation"
        },
        {
          "name": "type",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Type of aggregation, client must provide matching aggregation field below"
        },
        {
          "name": "value",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-search-v3.SiteSearch.ValueAggregation"
            }
          ],
          "doc": "Value aggregation"
        }
      ],
      "extra": {
        "oneOfGroups": [
          {
            "name": "oneOfAggregationKindOneOf",
            "members": [
              "nested",
              "scalar",
              "value"
            ]
          }
        ]
      },
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "AggregationData",
      "members": [
        {
          "name": "results",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "referenceType": "wix-search-v3.SiteSearch.AggregationResults"
                  }
                ]
              }
            }
          ],
          "doc": "key = aggregation name (as derived from search request)"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "AggregationKindOneOf",
      "members": [
        {
          "name": "nested",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-search-v3.SiteSearch.NestedAggregation"
            }
          ],
          "doc": "Nested aggregation"
        },
        {
          "name": "scalar",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-search-v3.SiteSearch.ScalarAggregation"
            }
          ],
          "doc": "Scalar aggregation"
        },
        {
          "name": "value",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-search-v3.SiteSearch.ValueAggregation"
            }
          ],
          "doc": "Value aggregation"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "AggregationResults",
      "members": [
        {
          "name": "fieldPath",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Field to aggregate by as derived from search request"
        },
        {
          "name": "name",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "User-defined name of aggregation as derived from search request"
        },
        {
          "name": "nested",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-search-v3.SiteSearch.NestedResults"
            }
          ],
          "doc": "Nested aggregation results"
        },
        {
          "name": "scalar",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-search-v3.SiteSearch.AggregationResultsScalarResult"
            }
          ],
          "doc": "Scalar aggregation results"
        },
        {
          "name": "type",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Type of aggregation that must match provided kind as derived from search request"
        },
        {
          "name": "values",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-search-v3.SiteSearch.ValueResults"
            }
          ],
          "doc": "Value aggregation results"
        }
      ],
      "extra": {
        "oneOfGroups": [
          {
            "name": "oneOfAggregationResultsResultOneOf",
            "members": [
              "nested",
              "scalar",
              "values"
            ]
          }
        ]
      },
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "AggregationResultsResultOneOf",
      "members": [
        {
          "name": "nested",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-search-v3.SiteSearch.NestedResults"
            }
          ],
          "doc": "Nested aggregation results"
        },
        {
          "name": "scalar",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-search-v3.SiteSearch.AggregationResultsScalarResult"
            }
          ],
          "doc": "Scalar aggregation results"
        },
        {
          "name": "values",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-search-v3.SiteSearch.ValueResults"
            }
          ],
          "doc": "Value aggregation results"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "AggregationResultsScalarResult",
      "members": [
        {
          "name": "type",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Type of scalar aggregation"
        },
        {
          "name": "value",
          "optional": true,
          "type": [
            {
              "nativeType": "number"
            }
          ],
          "doc": "Value of the scalar aggregation"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "NestedAggregation",
      "members": [
        {
          "name": "nestedAggregations",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "referenceType": "wix-search-v3.SiteSearch.NestedAggregationItem"
                  }
                ]
              }
            }
          ],
          "doc": "Flattened list of aggregations, where each next aggregation is nested within previous one"
        }
      ],
      "docs": {
        "description": [
          "Nested aggregation expressed through a list of aggregation where each next aggregation is nested within previous one"
        ]
      }
    },
    {
      "name": "NestedAggregationItem",
      "members": [
        {
          "name": "fieldPath",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Field to aggregate by, use dont notation to specify json path"
        },
        {
          "name": "name",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "User-defined name of aggregation, should be unique, will appear in aggregation results"
        },
        {
          "name": "scalar",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-search-v3.SiteSearch.ScalarAggregation"
            }
          ],
          "doc": "Scalar aggregation"
        },
        {
          "name": "type",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Type of aggregation, client must provide matching aggregation field below"
        },
        {
          "name": "value",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-search-v3.SiteSearch.ValueAggregation"
            }
          ],
          "doc": "Value aggregation"
        }
      ],
      "extra": {
        "oneOfGroups": [
          {
            "name": "oneOfNestedAggregationItemKindOneOf",
            "members": [
              "scalar",
              "value"
            ]
          }
        ]
      },
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "NestedAggregationItemKindOneOf",
      "members": [
        {
          "name": "scalar",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-search-v3.SiteSearch.ScalarAggregation"
            }
          ],
          "doc": "Scalar aggregation"
        },
        {
          "name": "value",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-search-v3.SiteSearch.ValueAggregation"
            }
          ],
          "doc": "Value aggregation"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "NestedResultValue",
      "members": [
        {
          "name": "scalar",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-search-v3.SiteSearch.ScalarResult"
            }
          ],
          "doc": "Scalar aggregation result"
        },
        {
          "name": "value",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-search-v3.SiteSearch.ValueResult"
            }
          ],
          "doc": "Value aggregation result"
        }
      ],
      "extra": {
        "oneOfGroups": [
          {
            "name": "oneOfNestedResultValueResultOneOf",
            "members": [
              "scalar",
              "value"
            ]
          }
        ]
      },
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "NestedResultValueResultOneOf",
      "members": [
        {
          "name": "scalar",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-search-v3.SiteSearch.ScalarResult"
            }
          ],
          "doc": "Scalar aggregation result"
        },
        {
          "name": "value",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-search-v3.SiteSearch.ValueResult"
            }
          ],
          "doc": "Value aggregation result"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "NestedResults",
      "members": [
        {
          "name": "results",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "referenceType": "wix-search-v3.SiteSearch.Results"
                  }
                ]
              }
            }
          ],
          "doc": "List of nested aggregations"
        }
      ],
      "docs": {
        "description": [
          "Results of `NESTED` aggregation type in a flattened form\naggregations in resulting array are keyed by requested aggregation `name`."
        ]
      }
    },
    {
      "name": "Paging",
      "members": [
        {
          "name": "limit",
          "optional": true,
          "type": [
            {
              "nativeType": "number"
            }
          ],
          "doc": "Number of items to load."
        },
        {
          "name": "offset",
          "optional": true,
          "type": [
            {
              "nativeType": "number"
            }
          ],
          "doc": "Number of items to skip in the current sort order."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "PagingMetadata",
      "members": [
        {
          "name": "count",
          "optional": true,
          "type": [
            {
              "nativeType": "number"
            }
          ],
          "doc": "Number of items returned in the response."
        },
        {
          "name": "offset",
          "optional": true,
          "type": [
            {
              "nativeType": "number"
            }
          ],
          "doc": "Offset that was requested."
        },
        {
          "name": "tooManyToCount",
          "optional": true,
          "type": [
            {
              "nativeType": "boolean"
            }
          ],
          "doc": "Flag that indicates the server failed to calculate the `total` field."
        },
        {
          "name": "total",
          "optional": true,
          "type": [
            {
              "nativeType": "number"
            }
          ],
          "doc": "Total number of items that match the query."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "Results",
      "members": [
        {
          "name": "results",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Record",
                "typeParams": [
                  {
                    "nativeType": "string"
                  },
                  {
                    "referenceType": "wix-search-v3.SiteSearch.NestedResultValue"
                  }
                ]
              }
            }
          ],
          "doc": "List of nested aggregations"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "ScalarAggregation",
      "members": [
        {
          "name": "type",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Define the operator for the scalar aggregation"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "ScalarResult",
      "members": [
        {
          "name": "value",
          "optional": true,
          "type": [
            {
              "nativeType": "number"
            }
          ],
          "doc": "Value of the scalar aggregation"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "Search",
      "members": [
        {
          "name": "aggregations",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "referenceType": "wix-search-v3.SiteSearch.Aggregation"
                  }
                ]
              }
            }
          ],
          "doc": "Aggregations | Faceted search: refers to a way to explore large amounts of data by displaying summaries about various partitions of the data and later allowing to narrow the navigation to a specific partition."
        },
        {
          "name": "filter",
          "optional": true,
          "type": [
            {
              "nativeType": "Object"
            }
          ],
          "doc": "A filter object. See documentation [here](https://bo.wix.com/wix-docs/rnd/platformization-guidelines/api-query-language#platformization-guidelines_api-query-language_defining-in-protobuf)"
        },
        {
          "name": "paging",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-search-v3.SiteSearch.Paging"
            }
          ],
          "doc": "Pointer to page of results using offset. Can not be used together with 'cursor_paging'"
        },
        {
          "name": "search",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-search-v3.SiteSearch.SearchDetails"
            }
          ],
          "doc": "Free text to match in searchable fields"
        },
        {
          "name": "sort",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "referenceType": "wix-search-v3.SiteSearch.Sorting"
                  }
                ]
              }
            }
          ],
          "doc": "Sort object in the form [{\"fieldName\":\"sortField1\"},{\"fieldName\":\"sortField2\",\"direction\":\"DESC\"}]"
        }
      ],
      "extra": {
        "oneOfGroups": [
          {
            "name": "oneOfSearchPagingMethodOneOf",
            "members": [
              "paging"
            ]
          }
        ]
      },
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "SearchDetails",
      "members": [
        {
          "name": "expression",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Search term or expression"
        },
        {
          "name": "fields",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "nativeType": "string"
                  }
                ]
              }
            }
          ],
          "doc": "Fields to search in. If empty - will search in all searchable fields. Use dot notation to specify json path"
        },
        {
          "name": "fuzzy",
          "optional": true,
          "type": [
            {
              "nativeType": "boolean"
            }
          ],
          "doc": "Flag if should use auto fuzzy search (allowing typos by a managed proximity algorithm)"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "SearchOptions",
      "members": [
        {
          "name": "documentType",
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Document type of documents to search for. All document types are searched if not provided."
        },
        {
          "name": "language",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Language to search in."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "SearchPagingMethodOneOf",
      "members": [
        {
          "name": "paging",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-search-v3.SiteSearch.Paging"
            }
          ],
          "doc": "Pointer to page of results using offset. Can not be used together with 'cursor_paging'"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "SearchRequest",
      "members": [
        {
          "name": "documentType",
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Document type of documents to search for. All document types are searched if not provided."
        },
        {
          "name": "language",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Language to search in."
        },
        {
          "name": "search",
          "type": [
            {
              "referenceType": "wix-search-v3.SiteSearch.Search"
            }
          ],
          "doc": "Search query"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "SearchResponse",
      "members": [
        {
          "name": "aggregationData",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-search-v3.SiteSearch.AggregationData"
            }
          ],
          "doc": "Response aggregation data"
        },
        {
          "name": "pagingOffsetMetadata",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-search-v3.SiteSearch.PagingMetadata"
            }
          ],
          "doc": "Paging metadata for the next page of results."
        },
        {
          "name": "siteDocuments",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "referenceType": "wix-search-v3.SiteSearch.SiteDocument"
                  }
                ]
              }
            }
          ],
          "doc": "Documents matching filter and query."
        }
      ],
      "extra": {
        "oneOfGroups": [
          {
            "name": "oneOfSearchResponsePagingOneOf",
            "members": [
              "pagingOffsetMetadata"
            ]
          }
        ]
      },
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "SearchResponsePagingOneOf",
      "members": [
        {
          "name": "pagingOffsetMetadata",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-search-v3.SiteSearch.PagingMetadata"
            }
          ],
          "doc": "Paging metadata for the next page of results."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "SiteDocument",
      "members": [
        {
          "name": "_id",
          "readOnly": true,
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": ""
        },
        {
          "name": "document",
          "optional": true,
          "type": [
            {
              "nativeType": "Object"
            }
          ],
          "doc": "the document payload"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "Sorting",
      "members": [
        {
          "name": "fieldName",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Name of the field to sort by."
        },
        {
          "name": "order",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Sort order."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "ValueAggregation",
      "members": [
        {
          "name": "limit",
          "optional": true,
          "type": [
            {
              "nativeType": "number"
            }
          ],
          "doc": "How many aggregations would you like to return? Can be between 1 and 250. 10 is the default."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "ValueAggregationResult",
      "members": [
        {
          "name": "count",
          "optional": true,
          "type": [
            {
              "nativeType": "number"
            }
          ],
          "doc": ""
        },
        {
          "name": "value",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Value of the field"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "ValueResult",
      "members": [
        {
          "name": "count",
          "optional": true,
          "type": [
            {
              "nativeType": "number"
            }
          ],
          "doc": "Count of entities with this value"
        },
        {
          "name": "value",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Value of the field"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "ValueResults",
      "members": [
        {
          "name": "results",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "referenceType": "wix-search-v3.SiteSearch.ValueAggregationResult"
                  }
                ]
              }
            }
          ],
          "doc": "List of value aggregations"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    }
  ]
}
